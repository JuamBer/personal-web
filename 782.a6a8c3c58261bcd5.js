"use strict";(self.webpackChunkpersonal_web=self.webpackChunkpersonal_web||[]).push([[782],{4446:(g,M,e)=>{e.d(M,{D:()=>h});var c=e(4188),r=e(4650),z=e(6895),l=e(7489),V=e(3416);function f(v,x){if(1&v&&(r.ynx(0),r.TgZ(1,"span",4)(2,"b",5),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"span",6),r._uU(6),r.ALo(7,"date"),r.qZA()(),r.BQk()),2&v){const C=r.oxw(3);r.xp6(3),r.Oqu(r.lcZ(4,2,"columns.createdAt")+": "),r.xp6(3),r.Oqu(r.lcZ(7,4,C.entity.createdAt))}}function i(v,x){if(1&v&&(r.TgZ(0,"section",3),r.YNc(1,f,8,6,"ng-container",0),r.qZA()),2&v){const C=r.oxw(2);r.xp6(1),r.Q6J("ngIf",C.entity)}}function t(v,x){1&v&&(r.TgZ(0,"div",7),r._UZ(1,"p-skeleton",8),r.qZA())}function n(v,x){if(1&v&&(r.ynx(0),r.YNc(1,i,2,1,"section",1),r.YNc(2,t,2,0,"ng-template",null,2,r.W1O),r.BQk()),2&v){const C=r.MAs(3),b=r.oxw();r.xp6(1),r.Q6J("ngIf",!b.loading)("ngIfElse",C)}}let h=(()=>{class v{constructor(){this.loading=!1}get ModalMode(){return c.g}}return v.\u0275fac=function(C){return new(C||v)},v.\u0275cmp=r.Xpm({type:v,selectors:[["app-entity-modal-audit"]],inputs:{loading:"loading",modalMode:"modalMode",entity:"entity"},decls:1,vars:1,consts:[[4,"ngIf"],["class","audit-fields flex justify-content-end mt-3",4,"ngIf","ngIfElse"],["loadingTemplate",""],[1,"audit-fields","flex","justify-content-end","mt-3"],[1,"info"],[1,"title"],[1,"data"],[1,"w-full","mt-3","flex","justify-content-end"],["width","10em","height","1em"]],template:function(C,b){1&C&&r.YNc(0,n,4,2,"ng-container",0),2&C&&r.Q6J("ngIf",b.modalMode!==b.ModalMode.CREATE)},dependencies:[z.O5,l.O,z.uU,V.X$],styles:[".info[_ngcontent-%COMP%]{font-size:.9em}.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{font-weight:lighter}"],changeDetection:0}),v})()},2437:(g,M,e)=>{e.d(M,{D:()=>t});var c=e(6895),r=e(4006),z=e(9605),l=e(3416),V=e(5593),f=e(7489),i=e(4650);let t=(()=>{class n{}return n.\u0275fac=function(v){return new(v||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[c.ez,z.y,V.hJ,r.UX,f.m,l.aw]}),n})()},7525:(g,M,e)=>{e.d(M,{Z:()=>_});var c=e(4650),r=e(4188),z=e(7579),l=e(1135),V=e(5684),f=e(5698),i=e(2722),t=e(4004),n=e(6895),h=e(5593),v=e(4006),x=e(3416);function C(u,A){if(1&u){const p=c.EpF();c.TgZ(0,"button",8),c.NdJ("click",function(){c.CHM(p);const N=c.oxw();return c.KtG(N.cancel.emit(!0))}),c.ALo(1,"translate"),c.qZA()}if(2&u){const p=c.oxw();c.Q6J("disabled",p.loading)("label",c.lcZ(1,2,"buttons.cancel"))}}function b(u,A){if(1&u&&(c._UZ(0,"button",9),c.ALo(1,"translate")),2&u){const p=c.oxw();c.Q6J("disabled",p.loading)("label",c.lcZ(1,2,"buttons.reset"))}}const P=function(u){return{name:u}};let _=(()=>{class u{constructor(){this.loading=!1,this.cancel=new c.vpe,this.submit=new c.vpe,this.unsubscribe$=new z.x,this.pendingChanges$=new l.X(!1)}ngOnInit(){this.form.valueChanges.pipe((0,V.T)(1),(0,f.q)(1),(0,i.R)(this.unsubscribe$)).subscribe(p=>{this.firstFormValue=p}),this.form.valueChanges.pipe((0,V.T)(2),(0,i.R)(this.unsubscribe$),(0,t.U)(p=>JSON.stringify(p)!==JSON.stringify(this.firstFormValue))).subscribe(p=>{this.pendingChanges$.next(p)})}ngOnDestroy(){this.unsubscribe$.next(!0),this.unsubscribe$.complete()}get ModalMode(){return r.g}}return u.\u0275fac=function(p){return new(p||u)},u.\u0275cmp=c.Xpm({type:u,selectors:[["app-entity-modal-buttons"]],inputs:{loading:"loading",name:"name",modalMode:"modalMode",form:"form"},outputs:{cancel:"cancel",submit:"submit"},decls:12,vars:16,consts:[[3,"formGroup","ngSubmit"],[1,"grid","p-fluid","p-0","m-0","mt-2","w-full"],[1,"lg:col-6","md:col-6","sm:col-12","xs:col-12","pl-0","ml-0","pr-1"],["pButton","","type","button","class","p-button-secondary p-button-sm","icon","fa-solid fa-xmark",3,"disabled","label","click",4,"ngIf"],[1,"lg:col-6","md:col-6","sm:col-12","xs:col-12","pr-0","mr-0","pl-1"],["pButton","","type","reset","class","p-button-secondary p-button-sm","icon","fa-solid fa-broom",3,"disabled","label",4,"ngIf"],[1,"col-12","p-0","m-0"],["pButton","","type","submit","icon","fa-solid fa-floppy-disk",1,"p-button-sm",3,"disabled","label"],["pButton","","type","button","icon","fa-solid fa-xmark",1,"p-button-secondary","p-button-sm",3,"disabled","label","click"],["pButton","","type","reset","icon","fa-solid fa-broom",1,"p-button-secondary","p-button-sm",3,"disabled","label"]],template:function(p,m){1&p&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return m.submit.emit(!0)}),c.TgZ(1,"div",1)(2,"div",2),c.YNc(3,C,2,4,"button",3),c.qZA(),c.TgZ(4,"div",4),c.YNc(5,b,2,4,"button",5),c.qZA(),c.TgZ(6,"div",6),c._UZ(7,"button",7),c.ALo(8,"async"),c.ALo(9,"translate"),c.ALo(10,"lowercase"),c.ALo(11,"translate"),c.qZA()()()),2&p&&(c.Q6J("formGroup",m.form),c.xp6(3),c.Q6J("ngIf",m.modalMode===m.ModalMode.CREATE||m.modalMode===m.ModalMode.UPDATE),c.xp6(2),c.Q6J("ngIf",m.modalMode===m.ModalMode.CREATE||m.modalMode===m.ModalMode.UPDATE),c.xp6(2),c.Q6J("disabled",m.loading||"PENDING"===m.form.status||!1===c.lcZ(8,5,m.pendingChanges$))("label",c.xi3(9,7,c.lcZ(10,10,"buttons."+m.modalMode),c.VKq(14,P,c.lcZ(11,12,"tables."+m.name+".singular")))))},dependencies:[n.O5,h.Hq,v._Y,v.JL,v.sg,n.Ov,n.i8,x.X$],changeDetection:0}),u})()},8122:(g,M,e)=>{e.d(M,{K:()=>f});var c=e(6895),r=e(4006),z=e(9605),l=e(5593),V=e(4650);let f=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=V.oAB({type:i}),i.\u0275inj=V.cJS({imports:[c.ez,z.y,l.hJ,r.UX]}),i})()},5818:(g,M,e)=>{e.d(M,{p:()=>vS});var c=e(4650);class r{static areObjectEquals(H,a){return JSON.stringify(H)===JSON.stringify(a)}}var z=e(4450),l=e(6895),V=e(1765),f=e(805),i=e(4006),t=e(605),$={prefix:"fas",iconName:"sort-down",icon:[320,512,["sort-desc"],"f0dd","M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"]},f2={prefix:"fas",iconName:"filter-circle-dollar",icon:[576,512,["funnel-dollar"],"f662","M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM288 368a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm120.8-32.6c.6-.9 1.8-2.1 4.2-3.4c5.1-2.7 12.5-4.1 18.7-4c8.2 .1 17.1 1.8 26.4 4.1c8.6 2.1 17.3-3.1 19.4-11.7s-3.1-17.3-11.7-19.4c-5.6-1.4-11.6-2.7-17.9-3.7V288c0-8.8-7.2-16-16-16s-16 7.2-16 16v9.5c-6.1 1.2-12.3 3.2-18 6.3c-11.8 6.3-23 18.4-21.8 37.2c1 16 11.7 25.3 21.6 30.7c8.8 4.7 19.7 7.8 28.6 10.3l1.8 .5c10.3 2.9 17.9 5.2 23.2 8.3c4.5 2.7 4.7 4.2 4.7 5.6c.1 2.4-.5 3.7-1 4.5c-.6 1-1.8 2.2-4 3.3c-4.7 2.5-11.8 3.8-18.5 3.6c-9.5-.3-18.5-3.1-29.9-6.8c-1.9-.6-3.8-1.2-5.8-1.8c-8.4-2.6-17.4 2.1-20 10.5s2.1 17.4 10.5 20c1.6 .5 3.3 1 5 1.6l0 0 0 0c7 2.3 15.1 4.8 23.7 6.6v11.4c0 8.8 7.2 16 16 16s16-7.2 16-16V438.7c6.2-1.1 12.5-3.1 18.3-6.2c12.1-6.5 22.3-18.7 21.7-36.9c-.5-16.2-10.3-26.3-20.5-32.3c-9.4-5.6-21.2-8.9-30.5-11.5l-.2 0c-10.4-2.9-18.3-5.2-23.9-8.2c-4.8-2.6-4.8-4-4.8-4.5l0-.1c-.1-1.9 .3-2.9 .8-3.6z"]},V2={prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]},i6={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},p2={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},L2={prefix:"fas",iconName:"sort-up",icon:[320,512,["sort-asc"],"f0de","M182.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},L7=e(2435),K2=e(8426),EN=e(1740),UN=e(2210),u7=e(5593),d7=e(3608),GN=e(2216),g7=e(3416);function WN(s,H){if(1&s&&(c.TgZ(0,"div",17)(1,"span"),c._uU(2),c.ALo(3,"uppercase"),c.ALo(4,"translate"),c.qZA()()),2&s){const a=H.$implicit;c.xp6(2),c.Oqu(c.lcZ(3,1,c.lcZ(4,3,"genericTable.filters."+a.key+".name")))}}function ON(s,H){if(1&s&&(c.TgZ(0,"div",17)(1,"p",18),c.ALo(2,"translate"),c._uU(3),c.ALo(4,"uppercase"),c.ALo(5,"translate"),c.TgZ(6,"span"),c._UZ(7,"fa-icon",19),c.qZA()()()),2&s){const a=H.$implicit,o=c.oxw();c.xp6(1),c.Q6J("pTooltip",c.lcZ(2,3,"genericTable.filters."+a.key+".description")),c.xp6(2),c.hij(" ",c.lcZ(4,5,c.lcZ(5,7,"genericTable.filters."+a.key+".name"))," "),c.xp6(4),c.Q6J("icon",o.faQuestion)}}function qN(s,H){1&s&&(c.ynx(0),c.TgZ(1,"span",8)(2,"input",20),c.NdJ("click",function(o){return o.stopPropagation()}),c.qZA(),c.TgZ(3,"label"),c._uU(4),c.ALo(5,"translate"),c.qZA()(),c.BQk()),2&s&&(c.xp6(4),c.hij("",c.lcZ(5,1,"columns.value")," *"))}const IN=function(s){return{"p-highlight":s}},ZN=function(){return{maxWidth:"250px"}};let QN=(()=>{class s{constructor(a){this.formBuilder=a,this.faQuestion=p2,this.filterFormGroup=this.formBuilder.group({value:[void 0,[i.kI.required]],filterType:[void 0,[i.kI.required]]}),this.sorting="initial",this.filter=new c.vpe,this.sort=new c.vpe,this.isHighlight=!1}set lazyLoadEvent(a){let o=!1;a?.sortField!==this.field.field?this.sorting="initial":o=!0,Object.entries(a?.filters)?.forEach(([L,d])=>{L===this.field.field&&d.value&&(o=!0)}),this.isHighlight=o}get GenericFieldType(){return K2.E7}get FilterType(){return K2.vA}get filterIcon(){return this.filterFormGroup.controls.value.value?f2:i6}get sortIcon(){switch(this.sorting){case"initial":return V2;case"ascending":return L2;case"descending":return $}}onSort(){let a=0;switch(this.sorting){case"initial":case"ascending":this.sorting="descending",a=1;break;case"descending":this.sorting="ascending",a=-1}this.sort.emit({field:this.field,sortOrder:a})}reset(){this.filterFormGroup.reset(),this.filterFormGroup.updateValueAndValidity(),this.filter.emit({field:this.field,filter:this.filterFormGroup.value}),this.filterTypes.toggle(!1)}onSubmit(){this.filterFormGroup.valid?(this.filter.emit({field:this.field,filter:this.filterFormGroup.value}),this.filterTypes.toggle(!1)):t.h.markAllAsDirtyAndTouched(this.filterFormGroup)}}return s.\u0275fac=function(a){return new(a||s)(c.Y36(i.qu))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-generic-table-header-column"]],viewQuery:function(a,o){if(1&a&&c.Gf(L7.T,5),2&a){let L;c.iGM(L=c.CRH())&&(o.filterTypes=L.first)}},inputs:{field:"field",lazyLoadEvent:"lazyLoadEvent"},outputs:{filter:"filter",sort:"sort"},decls:27,vars:27,consts:[[1,"app-generic-table-header-column","m-0","p-0",3,"ngClass"],[1,"flex","justify-content-between","align-items-center","m-0","p-0"],[1,"w-full"],[1,"flex","align-items-center","justify-content-end","gap-2","w-full"],[1,"cursor-pointer",3,"icon","click"],["filterTypes",""],[1,"grid","p-fluid",3,"formGroup","ngSubmit"],[1,"filter-type","col-12","mt-3"],[1,"p-float-label"],["formControlName","filterType",3,"options","autoDisplayFirst"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"filter","col-12","mt-3",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"col-12","flex","justify-content-between","gap-2","flex-column","mt-2"],["pButton","","type","reset","icon","fa-solid fa-trash",1,"p-button-secondary","p-button-sm",3,"label","click"],["pButton","","type","submit","icon","fa-solid fa-filter",1,"p-button-primary","p-button-sm",3,"label"],[1,"filter-type-item"],["tooltipPosition","left",3,"pTooltip"],[3,"icon"],["type","text","pInputText","","formControlName","value",1,"p-inputtext-sm",3,"click"]],template:function(a,o){if(1&a){const L=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"span",2),c._uU(3),c.ALo(4,"titlecase"),c.qZA(),c.TgZ(5,"div",3)(6,"fa-icon",4),c.NdJ("click",function(MS){c.CHM(L);const hS=c.MAs(9);return c.KtG(hS.toggle(MS))}),c.qZA(),c.TgZ(7,"fa-icon",4),c.NdJ("click",function(){return o.onSort()}),c.qZA()(),c.TgZ(8,"p-overlayPanel",null,5)(10,"form",6),c.NdJ("ngSubmit",function(){return o.onSubmit()}),c.TgZ(11,"div",7)(12,"span",8)(13,"p-dropdown",9),c.ALo(14,"keyvalue"),c.YNc(15,WN,5,5,"ng-template",10),c.YNc(16,ON,8,9,"ng-template",11),c.qZA(),c.TgZ(17,"label"),c._uU(18),c.ALo(19,"translate"),c.qZA()()(),c.TgZ(20,"div",12),c.YNc(21,qN,6,3,"ng-container",13),c.qZA(),c.TgZ(22,"div",14)(23,"button",15),c.NdJ("click",function(){return o.reset()}),c.ALo(24,"translate"),c.qZA(),c._UZ(25,"button",16),c.ALo(26,"translate"),c.qZA()()()()()}2&a&&(c.Q6J("ngClass",c.VKq(24,IN,o.isHighlight)),c.xp6(3),c.Oqu(c.lcZ(4,14,o.field.label)),c.xp6(3),c.Q6J("icon",o.filterIcon),c.xp6(1),c.Q6J("icon",o.sortIcon),c.xp6(1),c.Akn(c.DdM(26,ZN)),c.xp6(2),c.Q6J("formGroup",o.filterFormGroup),c.xp6(3),c.Q6J("options",c.lcZ(14,16,o.FilterType))("autoDisplayFirst",!1),c.xp6(5),c.hij("",c.lcZ(19,18,"columns.filterType")," *"),c.xp6(2),c.Q6J("ngSwitch",o.field.type),c.xp6(1),c.Q6J("ngSwitchCase",o.GenericFieldType.TEXT),c.xp6(2),c.Q6J("label",c.lcZ(24,20,"buttons.deleteFilters")),c.xp6(2),c.Q6J("label",c.lcZ(26,22,"buttons.filter")))},dependencies:[l.mk,l.RF,l.n9,f.jx,EN.o,UN.Lt,u7.Hq,d7.u,L7.T,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,GN.BN,l.gd,l.rS,l.Nd,g7.X$]}),s})();function JN(s,H){if(1&s&&(c.ynx(0),c._uU(1),c.BQk()),2&s){const a=c.oxw();c.xp6(1),c.hij(" ",a.value[a.field.field]," ")}}function KN(s,H){if(1&s&&(c.ynx(0),c._uU(1),c.ALo(2,"date"),c.BQk()),2&s){const a=c.oxw();c.xp6(1),c.hij(" ",c.xi3(2,1,a.value[a.field.field],"dd/MM/yyyy")," ")}}function jN(s,H){if(1&s&&(c.ynx(0),c._uU(1),c.ALo(2,"date"),c.BQk()),2&s){const a=c.oxw();c.xp6(1),c.hij(" ",c.xi3(2,1,a.value[a.field.field],"dd/MM/yyyy HH:mm")," ")}}function XN(s,H){if(1&s&&(c.ynx(0),c._UZ(1,"img",2),c.BQk()),2&s){const a=c.oxw();c.xp6(1),c.Q6J("src",a.value[a.field.field],c.LSH)("alt",a.field.label)}}let YN=(()=>{class s{get GenericFieldType(){return K2.E7}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-generic-table-column"]],inputs:{field:"field",value:"value"},decls:5,vars:5,consts:[[1,"app-generic-table-column",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","alt"]],template:function(a,o){1&a&&(c.TgZ(0,"div",0),c.YNc(1,JN,2,1,"ng-container",1),c.YNc(2,KN,3,4,"ng-container",1),c.YNc(3,jN,3,4,"ng-container",1),c.YNc(4,XN,2,2,"ng-container",1),c.qZA()),2&a&&(c.Q6J("ngSwitch",o.field.type),c.xp6(1),c.Q6J("ngSwitchCase",o.GenericFieldType.TEXT),c.xp6(1),c.Q6J("ngSwitchCase",o.GenericFieldType.DATE),c.xp6(1),c.Q6J("ngSwitchCase",o.GenericFieldType.DATETIME),c.xp6(1),c.Q6J("ngSwitchCase",o.GenericFieldType.IMAGE))},dependencies:[l.RF,l.n9,l.uU],styles:[".app-generic-table-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:10em}"]}),s})(),$N=(()=>{class s{constructor(){this.entity=null,this.tableEvent=new c.vpe}onTableEvent(a){this.tableEvent.emit(a)}get buttonClasses(){let a="p-button-sm";switch(this.tableConfig?.size){case"small":a="p-button-sm";break;case"normal":a="p-button";break;case"large":a="p-button-lg"}return`${a} p-button-${this.button.type}`}get tooltipPosition(){let a="bottom";switch(this.position){case"start":a="right";break;case"end":a="left";break;case"top":a="bottom"}return a}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-generic-table-button"]],inputs:{position:"position",tableConfig:"tableConfig",button:"button",entity:"entity"},outputs:{tableEvent:"tableEvent"},decls:1,vars:6,consts:[["pButton","",3,"label","icon","pTooltip","tooltipPosition","click"]],template:function(a,o){1&a&&(c.TgZ(0,"button",0),c.NdJ("click",function(){return o.onTableEvent({value:o.entity,type:o.button.event})}),c.qZA()),2&a&&(c.Tol(o.buttonClasses),c.Q6J("label",o.button.label)("icon","pi "+o.button.icon)("pTooltip",o.button.tooltip)("tooltipPosition",o.tooltipPosition))},dependencies:[u7.Hq,d7.u]}),s})();function cS(s,H){if(1&s){const a=c.EpF();c.TgZ(0,"app-generic-table-button",9),c.NdJ("tableEvent",function(L){c.CHM(a);const d=c.oxw(3);return c.KtG(d.onTableEvent(L))}),c.qZA()}if(2&s){const a=H.$implicit;c.Q6J("position","top")("button",a)("entity",null)}}function aS(s,H){if(1&s&&(c.TgZ(0,"div",7),c.YNc(1,cS,1,3,"app-generic-table-button",8),c.qZA()),2&s){const a=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",a.config.buttons.top)}}function eS(s,H){1&s&&c._UZ(0,"th")}function sS(s,H){if(1&s){const a=c.EpF();c.TgZ(0,"th")(1,"app-generic-table-header-column",12),c.NdJ("filter",function(L){c.CHM(a);const d=c.oxw(3);return c.KtG(d.onFilter(L))})("sort",function(L){c.CHM(a);const d=c.oxw(3);return c.KtG(d.onSort(L))}),c.qZA()()}if(2&s){const a=H.$implicit,o=c.oxw(3);c.xp6(1),c.Q6J("field",a)("lazyLoadEvent",o.lazyLoadEventValue)}}function rS(s,H){1&s&&c._UZ(0,"th")}function lS(s,H){if(1&s&&(c.TgZ(0,"tr"),c.YNc(1,eS,1,0,"th",10),c.YNc(2,sS,2,2,"th",11),c.YNc(3,rS,1,0,"th",10),c.qZA()),2&s){const a=c.oxw(2);c.xp6(1),c.Q6J("ngIf",a.config.buttons.start.length>0),c.xp6(1),c.Q6J("ngForOf",a.config.fields),c.xp6(1),c.Q6J("ngIf",a.config.buttons.end.length>0)}}function iS(s,H){if(1&s){const a=c.EpF();c.TgZ(0,"app-generic-table-button",9),c.NdJ("tableEvent",function(L){c.CHM(a);const d=c.oxw(4);return c.KtG(d.onTableEvent(L))}),c.qZA()}if(2&s){const a=H.$implicit,o=c.oxw(2).$implicit;c.Q6J("position","start")("button",a)("entity",o)}}function fS(s,H){if(1&s&&(c.TgZ(0,"th",15)(1,"div",16),c.YNc(2,iS,1,3,"app-generic-table-button",8),c.qZA()()),2&s){const a=c.oxw(3);c.xp6(2),c.Q6J("ngForOf",a.config.buttons.start)}}function oS(s,H){if(1&s&&(c.TgZ(0,"td"),c._UZ(1,"app-generic-table-column",17),c.qZA()),2&s){const a=H.$implicit,o=c.oxw().$implicit;c.xp6(1),c.Q6J("field",a)("value",o)}}function nS(s,H){if(1&s){const a=c.EpF();c.TgZ(0,"app-generic-table-button",9),c.NdJ("tableEvent",function(L){c.CHM(a);const d=c.oxw(4);return c.KtG(d.onTableEvent(L))}),c.qZA()}if(2&s){const a=H.$implicit,o=c.oxw(2).$implicit;c.Q6J("position","end")("button",a)("entity",o)}}function tS(s,H){if(1&s&&(c.TgZ(0,"th",15)(1,"div",16),c.YNc(2,nS,1,3,"app-generic-table-button",8),c.qZA()()),2&s){const a=c.oxw(3);c.xp6(2),c.Q6J("ngForOf",a.config.buttons.end)}}function HS(s,H){if(1&s&&(c.TgZ(0,"tr",13),c.YNc(1,fS,3,1,"th",14),c.YNc(2,oS,2,2,"td",11),c.YNc(3,tS,3,1,"th",14),c.qZA()),2&s){const a=c.oxw(2);c.xp6(1),c.Q6J("ngIf",a.config.buttons.start.length>0),c.xp6(1),c.Q6J("ngForOf",a.config.fields),c.xp6(1),c.Q6J("ngIf",a.config.buttons.end.length>0)}}function zS(s,H){if(1&s&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&s){const a=c.oxw(3);c.xp6(1),c.uIk("colspan",a.config.buttons.start.length+a.config.fields.length+a.config.buttons.end.length),c.xp6(1),c.hij(" ",c.lcZ(3,2,"genericTable.emptyMessage")," ")}}function mS(s,H){1&s&&c.YNc(0,zS,4,4,"tr",10),2&s&&c.Q6J("ngIf",H.frozen)}const x7=function(){return[]};function VS(s,H){if(1&s){const a=c.EpF();c.TgZ(0,"p-table",1,2),c.NdJ("onLazyLoad",function(L){c.CHM(a);const d=c.oxw();return c.KtG(d.onLazyLoad(L))}),c.ALo(2,"translate"),c.YNc(3,aS,2,1,"ng-template",3),c.YNc(4,lS,4,3,"ng-template",4),c.YNc(5,HS,4,3,"ng-template",5),c.YNc(6,mS,1,1,"ng-template",6),c.qZA()}if(2&s){const a=c.oxw();c.Q6J("value",a.entities)("loading",a.loading)("totalRecords",a.count)("styleClass",a.styleClass)("rows",a.lazyLoadEventValue.rows)("rowHover",!0)("frozenValue",c.DdM(22,x7))("frozenColumns",c.DdM(23,x7))("responsive",!0)("resizableColumns",!0)("showCurrentPageReport",a.config.showCurrentPageReport)("rowsPerPageOptions",a.config.rowsPerPageOptions)("dataKey",a.config.dataKey)("paginator",a.config.paginator)("filterDelay",0)("showFirstLastIcon",!0)("lazy",!0)("lazyLoadOnInit",!0)("rowTrackBy",a.rowTrackBy)("currentPageReportTemplate",c.lcZ(2,20,"genericTable.currentPageReport"))}}let vS=(()=>{class s{constructor(){this.config=z.N.defaultGenericTableConfig,this.loading=!0,this.count=0,this.entities=[],this.lazyLoadEvent=new c.vpe,this.lazyLoadEventValue={first:0,rows:10,multiSortMeta:[]},this.tableEvent=new c.vpe,this.filters=[]}onLazyLoad(a){r.areObjectEquals(this.lazyLoadEventValue,a)||(this.lazyLoadEvent.emit(a),this.lazyLoadEventValue=a)}onTableEvent(a){r.areObjectEquals(this.previousTableEvent,a)||(this.tableEvent.emit(a),this.previousTableEvent=a)}onFilter(a){const o={...this.lazyLoadEventValue,filters:{...this.lazyLoadEventValue.filters,[a.field.field]:{value:a.filter}}};r.areObjectEquals(this.lazyLoadEventValue,o)||(this.lazyLoadEvent.emit(o),this.lazyLoadEventValue=o)}onSort(a){const o={...this.lazyLoadEventValue,sortOrder:a.sortOrder,sortField:a.field.field};r.areObjectEquals(this.lazyLoadEventValue,o)||(this.lazyLoadEvent.emit(o),this.lazyLoadEventValue=o)}rowTrackBy(a,o){return this.config?o[this.config.dataKey]:a}get styleClass(){let a="";switch(this.config?.size){case"small":a="p-datatable-sm";break;case"normal":a="";break;case"large":a="p-datatable-lg"}return a}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-generic-table"]],inputs:{config:"config",loading:"loading",count:"count",entities:"entities"},outputs:{lazyLoadEvent:"lazyLoadEvent",tableEvent:"tableEvent"},decls:1,vars:1,consts:[["responsiveLayout","scroll","selectionMode","single","paginatorPosition","bottom","sortMode","single",3,"value","loading","totalRecords","styleClass","rows","rowHover","frozenValue","frozenColumns","responsive","resizableColumns","showCurrentPageReport","rowsPerPageOptions","dataKey","paginator","filterDelay","showFirstLastIcon","lazy","lazyLoadOnInit","rowTrackBy","currentPageReportTemplate","onLazyLoad",4,"ngIf"],["responsiveLayout","scroll","selectionMode","single","paginatorPosition","bottom","sortMode","single",3,"value","loading","totalRecords","styleClass","rows","rowHover","frozenValue","frozenColumns","responsive","resizableColumns","showCurrentPageReport","rowsPerPageOptions","dataKey","paginator","filterDelay","showFirstLastIcon","lazy","lazyLoadOnInit","rowTrackBy","currentPageReportTemplate","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","justify-content-end","align-items-center","gap-3"],[3,"position","button","entity","tableEvent",4,"ngFor","ngForOf"],[3,"position","button","entity","tableEvent"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"field","lazyLoadEvent","filter","sort"],[1,"p-selectable-row"],["class","button-column",4,"ngIf"],[1,"button-column"],[1,"button-container"],[3,"field","value"]],template:function(a,o){1&a&&c.YNc(0,VS,7,24,"p-table",0),2&a&&c.Q6J("ngIf",o.config)},dependencies:[l.sg,l.O5,V.iA,f.jx,QN,YN,$N,g7.X$],styles:["th.button-column[_ngcontent-%COMP%]{vertical-align:middle;padding:0;border-bottom:1px solid #dee2e6}th.button-column[_ngcontent-%COMP%]   div.button-container[_ngcontent-%COMP%]{padding:.25em;display:flex;align-items:center;justify-content:flex-end;gap:.5em}"],changeDetection:0}),s})()},3067:(g,M,e)=>{e.d(M,{G:()=>p});var c=e(6895),r=e(4006),z=e(2216),l=e(3416),V=e(5593),f=e(2210),i=e(1740),t=e(5722),n=e(2435),h=e(8235),v=e(613),x=e(1765),C=e(4650);let u=(()=>{class m{}return m.\u0275fac=function(S){return new(S||m)},m.\u0275mod=C.oAB({type:m}),m.\u0275inj=C.cJS({imports:[c.ez]}),m})();var A=e(3608);let p=(()=>{class m{}return m.\u0275fac=function(S){return new(S||m)},m.\u0275mod=C.oAB({type:m}),m.\u0275inj=C.cJS({imports:[c.ez,x.U$,i.j,f.kW,t.q4,u,h.q,V.hJ,A.z,n.y,r.UX,v.cc,l.aw,z.uH]}),m})()},8426:(g,M,e)=>{e.d(M,{E7:()=>c,rE:()=>z,vA:()=>r});var c=(()=>{return(l=c||(c={})).TEXT="TEXT",l.NUMBER="NUMBER",l.DATE="DATE",l.TIME="TIME",l.DATETIME="DATETIME",l.CURRENCY="CURRENCY",l.OBJECT="OBJECT",l.ARRAY="ARRAY",l.BOOLEAN="BOOLEAN",l.IMAGE="IMAGE",c;var l})(),r=(()=>{return(l=r||(r={})).START_WITH="START_WITH",l.ENDS_WITH="ENDS_WITH",l.CONTAINS="CONTAINS",l.NOT_CONTAINS="NOT_CONTAINS",l.EQUAL="EQUAL",l.NOT_EQUAL="NOT_EQUAL",r;var l})(),z=(()=>{return(l=z||(z={})).CREATE="CREATE",l.UPDATE="UPDATE",l.DELETE="DELETE",l.VIEW="VIEW",l.DUPLICATE="DUPLICATE",z;var l})()},4024:(g,M,e)=>{e.d(M,{e:()=>r});var c=e(4650);let r=(()=>{class z{constructor(V,f){this._context={appLet:null},V.createEmbeddedView(f,this._context)}set appLet(V){this._context.appLet=V}}return z.\u0275fac=function(V){return new(V||z)(c.Y36(c.s_b),c.Y36(c.Rgc))},z.\u0275dir=c.lG2({type:z,selectors:[["","appLet",""]],inputs:{appLet:"appLet"}}),z})()},3570:(g,M,e)=>{e.d(M,{T:()=>l});var c=e(4650),r=e(7489),z=e(1135);let l=(()=>{class V{constructor(i,t,n){this.elementRef=i,this.injector=t,this.changeDectector=n,this.isLoading$=new z.X(!1),this.fontSizeValue=12,this.viewContainerRef=this.injector.get(c.s_b)}set appIsLoading(i){this.isLoading$.next(i)}ngAfterViewInit(){this.changeDectector.detectChanges(),this.fontSizeValue=parseFloat(window.getComputedStyle(this.elementRef.nativeElement).fontSize)/2,this.isLoading$.subscribe(i=>{this.handleLoading(i)})}handleLoading(i){i?(this.skeletonComponentRef=this.viewContainerRef.createComponent(r.O),this.skeletonComponentRef.instance.height=this.elementRef.nativeElement.offsetHeight-2*this.fontSizeValue+"px",this.skeletonComponentRef.instance.width=this.elementRef.nativeElement.offsetWidth-2*this.fontSizeValue+"px",this.skeletonComponentRef.instance.style={margin:`${this.fontSizeValue}px`},this.elementRef.nativeElement.style.display="none"):(this.elementRef.nativeElement.style.display="inline",this.skeletonComponentRef&&this.skeletonComponentRef.destroy())}}return V.\u0275fac=function(i){return new(i||V)(c.Y36(c.SBq),c.Y36(c.zs3),c.Y36(c.sBO))},V.\u0275dir=c.lG2({type:V,selectors:[["","appLoading",""]],inputs:{appIsLoading:"appIsLoading"}}),V})()},6222:(g,M,e)=>{e.d(M,{F:()=>V});var c=e(8675),r=e(4004),z=e(4650),l=e(3416);let V=(()=>{class f{constructor(t){this.translateService=t,this.errorsIds=["required"]}transform(t){return t.valueChanges.pipe((0,c.O)(t.value),(0,r.U)(()=>{let n="";return this.errorsIds.forEach(h=>{t.errors&&h in t.errors&&t.dirty&&(n=this.translateService.instant(`form.errors.${h}`))}),null===t.errors&&(n=""),n}))}}return f.\u0275fac=function(t){return new(t||f)(z.Y36(l.sK,16))},f.\u0275pipe=z.Yjl({name:"errors",type:f,pure:!0}),f})()},8452:(g,M,e)=>{e.d(M,{J:()=>z});var c=e(4006),r=e(4650);let z=(()=>{class l{transform(f){return!f.hasValidator(c.kI.required)||f.hasError("required")&&f.dirty?"":"*"}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275pipe=r.Yjl({name:"isRequired",type:l,pure:!0}),l})()},62:(g,M,e)=>{e.d(M,{v:()=>l});var c=e(5861),r=e(8426),z=e(4642);class l{constructor(f,i,t="*",n="*",h="name"){this.supabase=f,this.table=i,this.getAllSelection=t,this.getOneSelection=n,this.titleSelection=h}getAll(f){var i=this;return(0,c.Z)(function*(){let t=i.supabase.from(i.table).select(i.getAllSelection);f&&"sortField"in f&&l.applyFiltersAndSorting(t,f);const{data:n,error:h}=yield t;return h||(0,z.iP)(n)})()}getTitle(f){var i=this;return(0,c.Z)(function*(){const{data:t,error:n}=yield i.supabase.from(i.table).select(i.titleSelection).match({id:f}).single();return n||(0,z.iP)(t)})()}getOne(f){var i=this;return(0,c.Z)(function*(){const{data:t,error:n}=yield i.supabase.from(i.table).select(i.getOneSelection).match({id:f}).single();return n||(0,z.iP)(t)})()}create(f){var i=this;return(0,c.Z)(function*(){const{data:t,error:n}=yield i.supabase.from(i.table).insert([(0,z.PI)((0,z.KU)(f))]);return n||t})()}update(f){var i=this;return(0,c.Z)(function*(){const{data:t,error:n}=yield i.supabase.from(i.table).update((0,z.PI)((0,z.KU)(f))).match({id:f.id});return n||t})()}delete(f){var i=this;return(0,c.Z)(function*(){const{data:t,error:n}=yield i.supabase.from(i.table).delete().match({id:f});return n||t})()}count(){var f=this;return(0,c.Z)(function*(){const{count:i,error:t}=yield f.supabase.from(f.table).select("*",{count:"exact",head:!0});return t||i})()}static applyFiltersAndSorting(f,i){i.sortField&&i.sortOrder&&(f=f.order(i.sortField,{ascending:1===i.sortOrder})),i.filters&&Object.entries(i.filters).forEach(([t,n])=>{const h=t,v=n.value.value;if(v)switch(n.value.filterType){case r.vA.START_WITH:f=f.ilike(h,`${v}%`);break;case r.vA.ENDS_WITH:f=f.ilike(h,`%${v}`);break;case r.vA.EQUAL:f=f.eq(h,v);break;case r.vA.NOT_EQUAL:f=f.not(h,"eq",v);break;case r.vA.CONTAINS:f=f.ilike(h,`%${v}%`);break;case r.vA.NOT_CONTAINS:f=f.not(h,"like",`%${v}%`);break;default:f=f.ilike(h,`%${v}%`)}}),Number.isInteger(i.first)&&Number.isInteger(i.rows)&&(f=f.range(i.first,i.first+i.rows-1))}}},605:(g,M,e)=>{e.d(M,{h:()=>r});var c=e(4006);class r{static markAllAsDirtyAndTouched(l){l instanceof c.NI&&(l.markAsTouched(),l.markAsDirty(),l.updateValueAndValidity()),l.markAsTouched(),l.markAsDirty(),l.updateValueAndValidity(),l instanceof c.cw&&Object.entries(l.controls).forEach(([V,f])=>{r.markAllAsDirtyAndTouched(f)}),l instanceof c.Oe&&l.controls.forEach(V=>{r.markAllAsDirtyAndTouched(V)})}}},611:(g,M,e)=>{e.d(M,{A:()=>c});class c{static getParentRoute(z,l){const V=z.split("/");for(let f=0;f<l;f++)V.pop();return V.join("/")}}}}]);