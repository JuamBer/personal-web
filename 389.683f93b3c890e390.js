"use strict";(self.webpackChunkpersonal_web=self.webpackChunkpersonal_web||[]).push([[389],{2389:(be,N,o)=>{o.r(N),o.d(N,{ProjectModule:()=>Le});var u=o(6814),F=o(9862),m=o(6223),B=o(7327),O=o(707),w=o(5117),G=o(4532),t=o(9212),T=o(5219),R=o(7778),U=o(8468),b=o(3714),K=o(2332);const Y=["inputtext"],H=["container"];function z(i,s){1&i&&t.GkF(0)}function W(i,s){if(1&i&&(t.TgZ(0,"span",12),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.uIk("data-pc-section","label"),t.xp6(1),t.Oqu(n.field?n.resolveFieldData(e,n.field):e)}}function X(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"TimesCircleIcon",15),t.NdJ("click",function(a){t.CHM(e);const l=t.oxw(2).index,r=t.oxw();return t.KtG(r.removeItem(a,l))}),t.qZA()}2&i&&(t.Q6J("styleClass","p-chips-token-icon"),t.uIk("data-pc-section","removeTokenIcon")("aria-hidden",!0))}function q(i,s){}function tt(i,s){1&i&&t.YNc(0,q,0,0,"ng-template")}function et(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",16),t.NdJ("click",function(a){t.CHM(e);const l=t.oxw(2).index,r=t.oxw();return t.KtG(r.removeItem(a,l))}),t.YNc(1,tt,1,0,null,17),t.qZA()}if(2&i){const e=t.oxw(3);t.uIk("data-pc-section","removeTokenIcon")("aria-hidden",!0),t.xp6(1),t.Q6J("ngTemplateOutlet",e.removeTokenIconTemplate)}}function nt(i,s){if(1&i&&(t.ynx(0),t.YNc(1,X,1,3,"TimesCircleIcon",13)(2,et,2,3,"span",14),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.removeTokenIconTemplate),t.xp6(1),t.Q6J("ngIf",e.removeTokenIconTemplate)}}const it=i=>({"p-chips-token":!0,"p-focus":i}),at=i=>({$implicit:i});function ot(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li",8,9),t.NdJ("click",function(a){const r=t.CHM(e).$implicit,L=t.oxw();return t.KtG(L.onItemClick(a,r))}),t.YNc(2,z,1,0,"ng-container",10)(3,W,2,2,"span",11)(4,nt,3,2,"ng-container",7),t.qZA()}if(2&i){const e=s.$implicit,n=s.index,a=t.oxw();t.Q6J("ngClass",t.VKq(12,it,a.focusedIndex===n)),t.uIk("id",a.id+"_chips_item_"+n)("ariaLabel",e)("aria-selected",!0)("aria-setsize",a.value.length)("aria-pointset",n+1)("data-p-focused",a.focusedIndex===n)("data-pc-section","token"),t.xp6(2),t.Q6J("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",t.VKq(14,at,e)),t.xp6(1),t.Q6J("ngIf",!a.itemTemplate),t.xp6(1),t.Q6J("ngIf",!a.disabled)}}function st(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"TimesIcon",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clear())}),t.qZA()}2&i&&t.Q6J("styleClass","p-chips-clear-icon")}function lt(i,s){}function rt(i,s){1&i&&t.YNc(0,lt,0,0,"ng-template")}function pt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clear())}),t.YNc(1,rt,1,0,null,17),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.clearIconTemplate)}}function dt(i,s){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,st,1,1,"TimesIcon",13)(2,pt,2,1,"span",18),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.clearIconTemplate),t.xp6(1),t.Q6J("ngIf",e.clearIconTemplate)}}const ct=(i,s,e,n)=>({"p-chips p-component p-input-wrapper":!0,"p-disabled":i,"p-focus":s,"p-inputwrapper-filled":e,"p-inputwrapper-focus":n}),ut=()=>({"p-inputtext p-chips-multiple-container":!0}),mt=i=>({"p-chips-clearable":i}),ht={provide:m.JU,useExisting:(0,t.Gpc)(()=>Q),multi:!0};let Q=(()=>{class i{document;el;cd;style;styleClass;disabled;field;placeholder;max;ariaLabel;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;onAdd=new t.vpe;onRemove=new t.vpe;onFocus=new t.vpe;onBlur=new t.vpe;onChipClick=new t.vpe;onClear=new t.vpe;inputViewChild;containerViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;id=(0,K.Th)();focused;focusedIndex;filled;get focusedOptionId(){return null!==this.focusedIndex?`${this.id}_chips_item_${this.focusedIndex}`:null}get isMaxedOut(){return this.max&&this.value&&this.max===this.value.length}constructor(e,n,a){this.document=e,this.el=n,this.cd=a}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template}}),this.updateFilledState()}onWrapperClick(){this.inputViewChild?.nativeElement.focus()}onContainerFocus(){this.focused=!0}onContainerBlur(){this.focusedIndex=-1,this.focused=!1}onContainerKeyDown(e){switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOn();break;case"ArrowRight":this.onArrowRightKeyOn();break;case"Backspace":this.onBackspaceKeyOn(e)}}onArrowLeftKeyOn(){0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0&&(this.focusedIndex=null===this.focusedIndex?this.value.length-1:this.focusedIndex-1,this.focusedIndex<0&&(this.focusedIndex=0))}onArrowRightKeyOn(){0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0&&(this.focusedIndex===this.value.length-1?(this.focusedIndex=null,this.inputViewChild?.nativeElement.focus()):this.focusedIndex++)}onBackspaceKeyOn(e){null!==this.focusedIndex&&this.removeItem(e,this.focusedIndex)}onInput(){this.updateFilledState(),this.focusedIndex=null}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(a=>{this.addItem(e,a,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(e,n){this.onChipClick.emit({originalEvent:e,value:n})}writeValue(e){this.value=e,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,n){if(e&&n){if(-1==n.indexOf("."))return e[n];{let r=n.split("."),L=e;for(var a=0,l=r.length;a<l;++a)L=L[r[a]];return L}}return null}onInputFocus(e){this.focused=!0,this.focusedIndex=null,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,n){if(this.disabled)return;let a=this.value[n];this.value=this.value.filter((l,r)=>r!=n),this.focusedIndex=null,this.inputViewChild.nativeElement.focus(),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:a}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,n,a){this.value=this.value||[],n&&n.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(n))&&!this.isMaxedOut&&(this.value=[...this.value,n],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:n})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",a&&e.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeyDown(e){const n=e.target.value;switch(e.code){case"Backspace":0===n.length&&this.value&&this.value.length>0&&this.removeItem(e,null!==this.focusedIndex?this.focusedIndex:this.value.length-1);break;case"Enter":n&&n.trim().length&&!this.isMaxedOut&&this.addItem(e,n,!0);break;case"ArrowLeft":0===n.length&&this.value&&this.value.length>0&&this.containerViewChild?.nativeElement.focus();break;case"ArrowRight":e.stopPropagation();break;default:this.separator&&(this.separator===e.key||e.key.match(this.separator))&&this.addItem(e,n,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isMaxedOut?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(n){return new(n||i)(t.Y36(u.K0),t.Y36(t.SBq),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-chips"]],contentQueries:function(n,a,l){if(1&n&&t.Suo(l,T.jx,4),2&n){let r;t.iGM(r=t.CRH())&&(a.templates=r)}},viewQuery:function(n,a){if(1&n&&(t.Gf(Y,5),t.Gf(H,5)),2&n){let l;t.iGM(l=t.CRH())&&(a.inputViewChild=l.first),t.iGM(l=t.CRH())&&(a.containerViewChild=l.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,a){2&n&&t.ekj("p-inputwrapper-filled",a.filled)("p-inputwrapper-focus",a.focused)("p-chips-clearable",a.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[t._Bn([ht])],decls:8,vars:31,consts:[[3,"ngClass","ngStyle"],["tabindex","-1","role","listbox",3,"ngClass","click","focus","blur","keydown"],["container",""],["role","option",3,"ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[4,"ngIf"],["role","option",3,"ngClass","click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"ul",1,2),t.NdJ("click",function(){return a.onWrapperClick()})("focus",function(){return a.onContainerFocus()})("blur",function(){return a.onContainerBlur()})("keydown",function(r){return a.onContainerKeyDown(r)}),t.YNc(3,ot,5,16,"li",3),t.TgZ(4,"li",4)(5,"input",5,6),t.NdJ("keydown",function(r){return a.onKeyDown(r)})("input",function(){return a.onInput()})("paste",function(r){return a.onPaste(r)})("focus",function(r){return a.onInputFocus(r)})("blur",function(r){return a.onInputBlur(r)}),t.qZA()(),t.YNc(7,dt,3,2,"li",7),t.qZA()()),2&n&&(t.Tol(a.styleClass),t.Q6J("ngClass",t.l5B(23,ct,a.disabled,a.focused,a.value&&a.value.length||(null==a.inputViewChild?null:a.inputViewChild.nativeElement.value)&&(null==a.inputViewChild?null:a.inputViewChild.nativeElement.value.length),a.focused))("ngStyle",a.style),t.uIk("data-pc-name","chips")("data-pc-section","root"),t.xp6(1),t.Q6J("ngClass",t.DdM(28,ut)),t.uIk("aria-labelledby",a.ariaLabelledBy)("aria-label",a.ariaLabel)("aria-activedescendant",a.focused?a.focusedOptionId:void 0)("aria-orientation","horizontal")("data-pc-section","container"),t.xp6(2),t.Q6J("ngForOf",a.value),t.xp6(1),t.Q6J("ngClass",t.VKq(29,mt,a.showClear&&!a.disabled)),t.uIk("data-pc-section","inputToken"),t.xp6(1),t.Tol(a.inputStyleClass),t.Q6J("disabled",a.disabled||a.isMaxedOut)("ngStyle",a.inputStyle),t.uIk("id",a.inputId)("placeholder",a.value&&a.value.length?null:a.placeholder)("tabindex",a.tabindex),t.xp6(2),t.Q6J("ngIf",null!=a.value&&a.filled&&!a.disabled&&a.showClear))},dependencies:()=>[u.mk,u.sg,u.O5,u.tP,u.PC,U.x,R.q],styles:["@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}\n"],encapsulation:2,changeDetection:0})}return i})(),ft=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[u.ez,b.j,T.m8,U.x,R.q,b.j,T.m8]})}return i})();var gt=o(3904),M=o(7213),$=o(5359),D=o(3965),vt=o(5609),Ct=o(6218),Tt=o(7161),xt=o(4055),At=o(7902),yt=o(1319),Lt=o(4844),bt=o(4104),Et=o(3516),It=o(3774),_t=o(4016),Mt=o(7879),Zt=o(5),St=o(1532),Jt=o(6297),Nt=o(4994),x=o(4961),c=o(1993),E=o(4221),I=o(9515),A=o(2181),Z=o(4664),y=o(7398),Ot=o(7921),S=o(6401),h=o(5027),wt=o(8114),f=o(8906),Rt=o(7417),p=o(7824),g=o(2697),d=o(478),J=o(6647),v=o(7296),_=o(9971),C=o(6477),Ut=o(8131);let $t=(()=>{class i{constructor(){this.store=(0,t.f3M)(E.yh),this.confirmationSrv=(0,t.f3M)(T.YP),this.router=(0,t.f3M)(x.F0),this.translateSrv=(0,t.f3M)(I.sK),this.titleCasePipe=(0,t.f3M)(u.rS),this.toastSrv=(0,t.f3M)(Rt.k),this.messageSrv=(0,t.f3M)(T.ez),this.destroyRef=(0,t.f3M)(t.ktI),this.entities$=this.store.select(C.h.getAll),this.entities=(0,c.O4)(this.entities$,{initialValue:[]}),this.loading$=(0,p.c$)(this.store.select(C.h.getAction),[p.Us.COUNT,p.Us.LOAD_MANY,p.Us.DELETE_ONE]),this.loading=(0,c.O4)(this.loading$,{initialValue:!1}),this.count$=this.store.select(C.h.getCount),this.count=(0,c.O4)(this.count$,{initialValue:0}),this.tableConfig=(0,t.tdS)(void 0),this.action$=this.store.select(C.h.getAction)}ngOnInit(){this.handleLoadCount(),this.handleLoadTableConfig(),this.handleMessages()}handleLoadCount(){this.store.dispatch(v.D.count((0,g.I)({feedback:new Set([p.M4.ERROR])})))}handleLoadTableConfig(){this.translateSrv.onLangChange.pipe((0,c.sL)(this.destroyRef),(0,Ot.O)(this.translateSrv.currentLang)).subscribe(()=>{this.loadTableConfig()})}handleMessages(){this.action$.pipe((0,c.sL)(this.destroyRef)).subscribe(e=>{const n=this.toastSrv.getMessage(this.translateSrv,e,this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR));n&&this.messageSrv.add(n)})}onLazyLoadEvent(e){this.store.dispatch(v.D.loadAll((0,g.I)({feedback:new Set([p.M4.ERROR]),payload:e})))}onTableEvent(e){switch(e.type){case h.rE.CREATE:this.router.navigate([this.router.url,f.g.CREATE]);break;case h.rE.VIEW:this.router.navigate([this.router.url,f.g.VIEW,e.value.id]);break;case h.rE.UPDATE:this.router.navigate([this.router.url,f.g.UPDATE,e.value.id]);break;case h.rE.DELETE:this.confirmationSrv.confirm({message:this.translateSrv.instant("messages.confirmation.message",{collectionName:this.translateSrv.instant(`tables.${this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.singular`),entityName:e.value.getDisplayName(this.translateSrv.currentLang)}),header:this.translateSrv.instant("messages.confirmation.header"),icon:"pi pi-info-circle",rejectLabel:this.translateSrv.instant("buttons.reject"),acceptLabel:this.translateSrv.instant("buttons.accept"),accept:()=>{this.store.dispatch(v.D.delete((0,g.I)({feedback:new Set([p.M4.PENDING,p.M4.SUCCESS,p.M4.ERROR]),id:e.value.id})))}})}}loadTableConfig(){this.tableConfig.set({...wt.$,title:this.titleCasePipe.transform(this.translateSrv.instant(`tables.${this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.plural`)),fields:[{field:"name",label:"Name",type:h.E7.TEXT,filter:!0,sort:!0},{field:"projectType.descriptionTranslations",label:"Description",type:h.E7.TRANSLATIONS,filter:!1,sort:!1}],buttons:{top:[{type:"primary",style:"raised",icon:"pi-plus",label:this.translateSrv.instant("buttons.create",{name:this.translateSrv.instant(`tables.${this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.singular`)}),tooltip:this.translateSrv.instant("buttons.create",{name:this.translateSrv.instant(`tables.${this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.singular`)}),event:h.rE.CREATE}],start:[],end:[{type:"primary",style:"raised",icon:"pi-eye",tooltip:this.translateSrv.instant("buttons.view",{name:this.translateSrv.instant(`tables.${this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.singular`)}),event:h.rE.VIEW},{type:"primary",style:"raised",icon:"pi-file-edit",tooltip:this.translateSrv.instant("buttons.update",{name:this.translateSrv.instant(`tables.${this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.singular`)}),event:h.rE.UPDATE},{type:"danger",style:"raised",icon:"pi-trash",tooltip:this.translateSrv.instant("buttons.delete",{name:this.translateSrv.instant(`tables.${this.names.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.singular`)}),event:h.rE.DELETE}]}})}get NumberMode(){return d.rm}get Naming(){return d.Si}get names(){return _.J}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-project-list"]],decls:2,vars:4,consts:[[3,"entities","loading","count","config","lazyLoadEvent","tableEvent"]],template:function(n,a){1&n&&(t.TgZ(0,"app-generic-table",0),t.NdJ("lazyLoadEvent",function(r){return a.onLazyLoadEvent(r)})("tableEvent",function(r){return a.onTableEvent(r)}),t.qZA(),t._UZ(1,"router-outlet")),2&n&&t.Q6J("entities",a.entities())("loading",a.loading())("count",a.count())("config",a.tableConfig())},dependencies:[x.lC,Ut.p],changeDetection:0})}return i})();var Dt=o(9666),jt=o(5619),Vt=o(2572),kt=o(836),j=o(8180),Pt=o(4082),Ft=o(4497),Bt=o(7210),V=o(3226),Gt=o(5170),Kt=o(451),Yt=o(6637),Ht=o(8808),zt=o(9185),Wt=o(8398),Xt=o(1224),qt=o(7861),te=o(6946),ee=o(7371);function ne(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"input",9),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("id",e)("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+e)," ",t.lcZ(6,9,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,n.form.get(e))))}}function ie(i,s){if(1&i&&(t.TgZ(0,"div",7),t._UZ(1,"app-input-translations",12),t.ALo(2,"translate"),t.qZA()),2&i){const e=s.appLet,n=t.oxw();let a;t.Q6J("appIsLoading",n.loading()),t.xp6(1),t.Q6J("showErrors",n.showErrors$)("type",n.InputTranslationsType.TEXTAREA)("translations",null==(a=n.entity())?null:a.descriptionTranslations)("disabled",n.modalMode()===n.ModalMode.VIEW)("form",n.form.get(e))("label",t.lcZ(2,7,"columns.description"))}}function ae(i,s){if(1&i&&(t.TgZ(0,"div",13)(1,"span",8),t._UZ(2,"p-calendar",14),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("formControlName",e)("showIcon",!0),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+e)," ",t.lcZ(6,9,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,n.form.get(e))))}}function oe(i,s){if(1&i&&t._uU(0),2&i){const e=s.$implicit;t.hij(" ",null==e?null:e.name," ")}}function se(i,s){if(1&i&&t._uU(0),2&i){const e=s.$implicit;t.hij(" ",null==e?null:e.name," ")}}const le=()=>({width:"100%",height:"100%"});function re(i,s){if(1&i&&(t.TgZ(0,"div",13)(1,"span",8)(2,"p-dropdown",15),t.ALo(3,"async"),t.YNc(4,oe,1,1,"ng-template",16)(5,se,1,1,"ng-template",17),t.qZA(),t.TgZ(6,"label",10),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"isRequired"),t.TgZ(10,"span",11),t._uU(11),t.ALo(12,"async"),t.ALo(13,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Akn(t.DdM(21,le)),t.Q6J("showClear",!0)("autoDisplayFirst",!1)("options",t.lcZ(3,11,n.companies$))("formControlName",e),t.xp6(4),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(8,13,"tables."+e+".singular")," ",t.lcZ(9,15,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(12,17,t.lcZ(13,19,n.form.get(e))))}}function pe(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"p-chips",18),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,6,"columns."+e)," ",t.lcZ(6,8,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,10,t.lcZ(10,12,n.form.get(e))))}}function de(i,s){if(1&i&&t._UZ(0,"img",21),2&i){const e=t.oxw(2);t.Q6J("src",e.form.controls.logo.value,t.LSH)}}function ce(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"input",9),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()(),t.TgZ(11,"div",19),t.YNc(12,de,1,1,"img",20),t.qZA()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("id",e)("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,8,"columns."+e)," ",t.lcZ(6,10,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,12,t.lcZ(10,14,n.form.get(e)))),t.xp6(4),t.um2(12,n.form.controls.logo.value?12:-1)}}function ue(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"input",9),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("id",e)("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+e)," ",t.lcZ(6,9,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,n.form.get(e))))}}function me(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"input",9),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("id",e)("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+e)," ",t.lcZ(6,9,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,n.form.get(e))))}}function he(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"input",9),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("id",e)("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+e)," ",t.lcZ(6,9,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,n.form.get(e))))}}function fe(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"input",9),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("id",e)("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+e)," ",t.lcZ(6,9,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,n.form.get(e))))}}function ge(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"span",8),t._UZ(2,"input",9),t.TgZ(3,"label",10),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",11),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&i){const e=s.appLet,n=t.oxw();t.Q6J("appIsLoading",n.loading()),t.xp6(2),t.Q6J("id",e)("formControlName",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+e)," ",t.lcZ(6,9,n.form.get(e))," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,n.form.get(e))))}}function ve(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-entity-modal-buttons",22),t.NdJ("cancel",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.hide())})("submitForm",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.send())}),t.qZA(),t._UZ(1,"app-entity-modal-audit",23)}if(2&i){const e=t.oxw();t.Q6J("loading",e.loading())("form",e.form)("name",e.names.name(e.Naming.CAMEL_CASE,e.NumberMode.SINGULAR))("modalMode",e.modalMode()),t.xp6(1),t.Q6J("loading",e.loading())("entity",e.entity())("modalMode",e.modalMode())}}const Ce=()=>({width:"100%",maxWidth:"40rem"}),Te=i=>({name:i}),k=i=>{const s=(0,t.f3M)(E.yh),e=(0,t.f3M)(Yt.Y),n=(0,t.f3M)(I.sK);return s.select(J.$.getOne).pipe((0,A.h)(a=>!!a),(0,Z.w)(()=>n.get(`tables.${_.J.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.singular`).pipe(i.paramMap.get("id")?(0,Z.w)(a=>(0,Dt.D)(e.getTitle(i.paramMap.get("id"))).pipe((0,y.U)(l=>`${S.R} | ${a} | ${l.name}`))):(0,y.U)(a=>`${S.R} | ${a} | ${n.instant("buttons.new",{name:""})}`))))};let P=(()=>{class i extends Ft.${constructor(){super(...arguments),this.router=(0,t.f3M)(x.F0),this.route=(0,t.f3M)(x.gz),this.store=(0,t.f3M)(E.yh),this.fb=(0,t.f3M)(m.qu),this.destroyRef=(0,t.f3M)(t.ktI),this.visible=!0,this.form=this.fb.nonNullable.group({name:this.fb.nonNullable.control(void 0,[m.kI.required]),logo:this.fb.nonNullable.control(void 0),descriptionTranslations:this.fb.nonNullable.array([]),date:this.fb.nonNullable.control(void 0),company:this.fb.nonNullable.control(void 0),technologies:this.fb.nonNullable.control([]),urls:this.fb.nonNullable.group({web:this.fb.nonNullable.control(void 0),playStore:this.fb.nonNullable.control(void 0),appStore:this.fb.nonNullable.control(void 0),microsoftStore:this.fb.nonNullable.control(void 0),github:this.fb.nonNullable.control(void 0)})}),this.params$=this.route.params.pipe((0,y.U)(e=>e)),this.loading$=(0,p.c$)(this.store.select(C.h.getAction),[p.Us.LOAD_ONE,p.Us.CREATE_ONE,p.Us.UPDATE_ONE]),this.loading=(0,c.O4)(this.loading$,{initialValue:!1}),this.modalMode$=this.params$.pipe((0,y.U)(e=>f.g[e.modalMode])),this.modalMode=(0,c.O4)(this.modalMode$,{initialValue:f.g.VIEW}),this.entity$=this.store.select(C.h.getOne).pipe((0,A.h)(e=>!!e)),this.entity=(0,c.O4)(this.entity$),this.action$=this.store.select(C.h.getAction).pipe((0,kt.T)(1),(0,A.h)(e=>!!e&&(e.type===p.Us.CREATE_ONE||e.type===p.Us.UPDATE_ONE)&&e.status===p.M4.SUCCESS)),this.showErrors$=new jt.X(!1),this.language$=this.store.select(J.$.getOne),this.language=(0,c.O4)(this.language$),this.companies$=this.store.select(Kt.K.getAll),this.companies=(0,c.O4)(this.companies$,{initialValue:[]})}ngOnInit(){this.handleLoadData(),this.handleParams(),this.handleEntity(),this.handleAction()}ngOnDestroy(){this.store.dispatch(v.D.unload())}handleLoadData(){this.store.dispatch(Gt._.loadAll((0,g.I)({feedback:new Set([p.M4.ERROR])})))}handleParams(){this.params$.pipe((0,c.sL)(this.destroyRef),(0,A.h)(e=>!!e.id)).subscribe(e=>{e.id&&this.store.dispatch(v.D.loadOne((0,g.I)({feedback:new Set([p.M4.ERROR]),id:e.id})))})}handleEntity(){(0,Vt.a)([this.entity$,this.modalMode$]).pipe((0,c.sL)(this.destroyRef)).subscribe(([e,n])=>{!e||!n||(this.form.controls.id||this.form.addControl("id",this.fb.nonNullable.control(e.id,[m.kI.required])),this.form.patchValue(e),n===f.g.VIEW&&this.form.disable())})}handleAction(){this.action$.pipe((0,c.sL)(this.destroyRef)).subscribe(e=>{e&&this.hide()})}hide(){this.visible=!1,this.modalMode$.pipe((0,j.q)(1)).subscribe(e=>{this.router.navigate(e===f.g.CREATE?[V.A.getParentRoute(this.router.url,1)]:[V.A.getParentRoute(this.router.url,2)])})}send(){this.form.invalid?(Bt.h.markAllAsDirtyAndTouched(this.form),this.showErrors$.next(!0)):this.modalMode$.pipe((0,j.q)(1)).subscribe(e=>{switch(e){case f.g.CREATE:this.store.dispatch(v.D.create((0,g.I)({feedback:new Set([p.M4.PENDING,p.M4.SUCCESS,p.M4.ERROR]),payload:this.form.value})));break;case f.g.UPDATE:this.store.dispatch(v.D.update((0,g.I)({feedback:new Set([p.M4.PENDING,p.M4.SUCCESS,p.M4.ERROR]),payload:this.form.value})))}})}get NumberMode(){return d.rm}get Naming(){return d.Si}get names(){return _.J}get ModalMode(){return f.g}get InputTranslationsType(){return Pt.A}static#t=this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.n5z(i)))(a||i)}})();static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-project-modal"]],features:[t.qOj],decls:21,vars:30,consts:[[3,"draggable","resizable","header","modal","visible","visibleChange","onHide"],[3,"formGroup"],[1,"grid","p-fluid","mt-1"],["appLoading","","class","xs:col-12 md:col-12 lg:col-12 mt-3",3,"appIsLoading",4,"appLet"],["appLoading","","class","xs:col-12 md:col-6 lg:col-6 mt-3",3,"appIsLoading",4,"appLet"],[1,"col-12"],["pTemplate","footer"],["appLoading","",1,"xs:col-12","md:col-12","lg:col-12","mt-3",3,"appIsLoading"],[1,"p-float-label"],["type","text","pInputText","",1,"p-inputtext-sm",3,"id","formControlName"],[3,"for"],[1,"error"],[3,"showErrors","type","translations","disabled","form","label"],["appLoading","",1,"xs:col-12","md:col-6","lg:col-6","mt-3",3,"appIsLoading"],["dateFormat","dd/mm/yy","appendTo","body",1,"p-calendar-sm",3,"formControlName","showIcon"],["dataKey","id","styleClass","app-dropdown","appendTo","body",1,"p-inputtext-sm",3,"showClear","autoDisplayFirst","options","formControlName"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"formControlName"],[1,"w-full","mt-3"],["class","w-full","alt","image",3,"src"],["alt","image",1,"w-full",3,"src"],[3,"loading","form","name","modalMode","cancel","submitForm"],[3,"loading","entity","modalMode"]],template:function(n,a){1&n&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(r){return a.visible=r})("onHide",function(){return a.hide()}),t.ALo(1,"translate"),t.ALo(2,"lowercase"),t.ALo(3,"translate"),t.TgZ(4,"form",1)(5,"div",2),t.YNc(6,ne,11,15,"div",3)(7,ie,3,9,"div",3)(8,ae,11,15,"div",4)(9,re,14,22,"div",4)(10,pe,11,14,"div",3),t._UZ(11,"p-divider",5),t.YNc(12,ce,13,16,"div",3),t._UZ(13,"p-divider",5),t.ynx(14,1),t.YNc(15,ue,11,15,"div",3)(16,me,11,15,"div",3)(17,he,11,15,"div",3)(18,fe,11,15,"div",3)(19,ge,11,15,"div",3),t.BQk(),t.qZA()(),t.YNc(20,ve,2,7,"ng-template",6),t.qZA()),2&n&&(t.Akn(t.DdM(27,Ce)),t.Q6J("draggable",!1)("resizable",!1)("header",t.xi3(1,20,t.lcZ(2,23,"buttons."+a.modalMode()),t.VKq(28,Te,t.lcZ(3,25,"tables."+a.names.name(a.Naming.CAMEL_CASE,a.NumberMode.SINGULAR)+".singular"))))("modal",!0)("visible",a.visible),t.xp6(4),t.Q6J("formGroup",a.form),t.xp6(2),t.Q6J("appLet","name"),t.xp6(1),t.Q6J("appLet","descriptionTranslations"),t.xp6(1),t.Q6J("appLet","date"),t.xp6(1),t.Q6J("appLet","company"),t.xp6(1),t.Q6J("appLet","technologies"),t.xp6(2),t.Q6J("appLet","logo"),t.xp6(2),t.Q6J("formGroup",a.form.controls.urls),t.xp6(1),t.Q6J("appLet","web"),t.xp6(1),t.Q6J("appLet","playStore"),t.xp6(1),t.Q6J("appLet","appStore"),t.xp6(1),t.Q6J("appLet","microsoftStore"),t.xp6(1),t.Q6J("appLet","github"))},dependencies:[Ht.T,zt.e,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,T.jx,M.V,w.f,D.Lt,b.o,Wt.D,Xt.Z,qt.s,Q,$.i,u.Ov,u.i8,I.X$,te.J,ee.F],changeDetection:0})}return i})();const xe=[{path:"",title:()=>{const i=(0,t.f3M)(E.yh),s=(0,t.f3M)(I.sK);return i.select(J.$.getOne).pipe((0,A.h)(e=>!!e),(0,Z.w)(()=>s.get(`tables.${_.J.name(d.Si.CAMEL_CASE,d.rm.SINGULAR)}.plural`).pipe((0,y.U)(e=>`${S.R} | ${e}`))))},component:$t,children:[{path:":modalMode",title:k,component:P},{path:":modalMode/:id",title:k,component:P}]}];let Ae=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[x.Bz.forChild(xe),x.Bz]})}return i})();var ye=o(7330);let Le=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({providers:[u.rS],imports:[u.ez,Ae,F.JF,Zt.o,m.u5,m.UX,bt.EV,O.hJ,Tt.O,M.S,yt.U$,G.d,gt.D,B.WN,O.hJ,w._8,M.S,At.JH,D.kW,b.j,vt.Iu,Ct.A,Lt.LU,xt.q4,St.y,ye.x,Nt.n,Jt.D,Et.D,It.K,_t.G,Mt.H,ft,$.x]})}return i})()}}]);