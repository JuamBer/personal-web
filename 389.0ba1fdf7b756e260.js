"use strict";(self.webpackChunkpersonal_web=self.webpackChunkpersonal_web||[]).push([[389],{5389:(gn,F,i)=>{i.r(F),i.d(F,{CertificateTypeModule:()=>cn});var Q=i(529),l=i(4006),q=i(2437),k=i(8122),tt=i(3067),O=i(3631),G=i(5593),nt=i(585),et=i(4247),at=i(2137),M=i(1493),D=i(2210),ot=i(7913),S=i(1740),I=i(3054),it=i(2665),st=i(5722),rt=i(8783),H=i(2453),g=i(6895),h=i(5213),K=i(2216),Y=i(5108),P=i(3214),N=i(6333),lt=i(6975),pt=i(4585),B=i(9605),ct=i(3928),t=i(4650);let ut=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[g.rS],imports:[g.ez,l.u5,l.u5,l.UX,h.Bz,O.WN,N.D,ct.d,lt.g,P.l,pt.o,B.y,K.uH,Y.x,I.A]}),e})();var gt=i(2983),w=i(2997),C=i(3416),$=i(805),z=i(7579),A=i(9300),Z=i(8675),d=i(8426),dt=i(1392),m=i(5255),p=i(7379);let mt=(()=>{class e{constructor(){this.translateSrv=(0,t.f3M)(C.sK)}getMessage(n){switch(n.type){case p.Us.COUNT:switch(n.status){case p.M4.PENDING:case p.M4.SUCCESS:return;case p.M4.ERROR:return{severity:"error",summary:this.translateSrv.instant("error")}}case p.Us.LOAD_ONE:switch(n.status){case p.M4.PENDING:case p.M4.SUCCESS:return;case p.M4.ERROR:return{severity:"error",summary:this.translateSrv.instant("error")}}case p.Us.LOAD_MANY:switch(n.status){case p.M4.PENDING:case p.M4.SUCCESS:return;case p.M4.ERROR:return{severity:"error",summary:this.translateSrv.instant("error")}}case p.Us.CREATE_ONE:switch(n.status){case p.M4.PENDING:return;case p.M4.SUCCESS:return{severity:"success",summary:this.translateSrv.instant("success")};case p.M4.ERROR:return{severity:"error",summary:this.translateSrv.instant("error")}}case p.Us.UPDATE_ONE:switch(n.status){case p.M4.PENDING:return;case p.M4.SUCCESS:return{severity:"success",summary:this.translateSrv.instant("success")};case p.M4.ERROR:return{severity:"error",summary:this.translateSrv.instant("error")}}case p.Us.DELETE_ONE:switch(n.status){case p.M4.PENDING:return;case p.M4.SUCCESS:return{severity:"success",summary:this.translateSrv.instant("success")};case p.M4.ERROR:return{severity:"error",summary:this.translateSrv.instant("error")}}}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i(4363),_=i(4121),v=i(4308),X=i(2593),T=i(6528),ft=i(3926);let vt=(()=>{class e{constructor(){this.store=(0,t.f3M)(w.yh),this.confirmationSrv=(0,t.f3M)($.YP),this.router=(0,t.f3M)(h.F0),this.translateSrv=(0,t.f3M)(C.sK),this.messageSrv=(0,t.f3M)($.ez),this.toastSrv=(0,t.f3M)(mt),this.entities$=this.store.select(T.R.getAll),this.loading$=this.store.select(T.R.getLoading),this.count$=this.store.select(T.R.getCount),this.action$=this.store.select(T.R.getAction),this.tableConfig$=new z.x}ngOnInit(){this.store.dispatch(v.A.count()),this.store.select(_.$.getOne).pipe((0,A.h)(n=>null!=n)).subscribe(n=>{this.translateSrv.use(n.acronym)}),this.translateSrv.onLangChange.pipe((0,Z.O)(this.translateSrv.currentLang)).subscribe(()=>{this.loadTableConfig()}),this.action$.subscribe(n=>{const a=this.toastSrv.getMessage(n);a&&this.messageSrv.add(a)})}onLazyLoadEvent(n){this.store.dispatch(v.A.loadAll({payload:n}))}onTableEvent(n){switch(n.type){case d.rE.CREATE:this.router.navigate([this.router.url,"modal",{modalMode:m.g.CREATE}]);break;case d.rE.VIEW:this.router.navigate([this.router.url,"modal",{modalMode:m.g.VIEW,id:n.value.id}]);break;case d.rE.UPDATE:this.router.navigate([this.router.url,"modal",{modalMode:m.g.UPDATE,id:n.value.id}]);break;case d.rE.DELETE:this.confirmationSrv.confirm({message:this.translateSrv.instant("messages.confirmation.message",{name:this.translateSrv.instant(`tables.${this.names.name(u.Si.CAMEL_CASE,u.rm.SINGULAR)}.singular`)}),header:this.translateSrv.instant("messages.confirmation.header"),icon:"pi pi-info-circle",rejectLabel:this.translateSrv.instant("buttons.reject"),acceptLabel:this.translateSrv.instant("buttons.accept"),accept:()=>{this.store.dispatch(v.A.delete({id:n.value.id}))}})}}loadTableConfig(){const n=[];[].push({action:"add",icon:"pi pi-plus",label:this.translateSrv.instant("buttons.new",{name:this.translateSrv.instant("tables.certificateType.singular")})}),n.push({action:"view",icon:"pi pi-search-plus"}),n.push({action:"edit",icon:"pi pi-pencil"}),n.push({action:"delete",icon:"pi pi-trash"}),this.tableConfig$.next({...dt.$,fields:[{field:"name",label:"Name",type:d.E7.TEXT,filter:!0,sort:!0},{field:"description",label:"description",type:d.E7.TEXT,filter:!0,sort:!0,tooltip:o=>o.description},{field:"nameTranslations",label:"Name Translations",type:d.E7.TRANSLATIONS,filter:!0,sort:!0}],buttons:{top:[{type:"primary",style:"raised",icon:"pi-plus",label:this.translateSrv.instant("buttons.create",{name:this.translateSrv.instant(`tables.${this.names.name(u.Si.CAMEL_CASE,u.rm.SINGULAR)}.singular`)}),tooltip:this.translateSrv.instant("buttons.create",{name:this.translateSrv.instant(`tables.${this.names.name(u.Si.CAMEL_CASE,u.rm.SINGULAR)}.singular`)}),event:d.rE.CREATE}],start:[],end:[{type:"primary",style:"raised",icon:"pi-eye",tooltip:this.translateSrv.instant("buttons.view",{name:this.translateSrv.instant(`tables.${this.names.name(u.Si.CAMEL_CASE,u.rm.SINGULAR)}.singular`)}),event:d.rE.VIEW},{type:"primary",style:"raised",icon:"pi-file-edit",tooltip:this.translateSrv.instant("buttons.update",{name:this.translateSrv.instant(`tables.${this.names.name(u.Si.CAMEL_CASE,u.rm.SINGULAR)}.singular`)}),event:d.rE.UPDATE},{type:"danger",style:"raised",icon:"pi-trash",tooltip:this.translateSrv.instant("buttons.delete",{name:this.translateSrv.instant(`tables.${this.names.name(u.Si.CAMEL_CASE,u.rm.SINGULAR)}.singular`)}),event:d.rE.DELETE}]}})}get NumberMode(){return u.rm}get Naming(){return u.Si}get names(){return X.u}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-certificate-type-list"]],decls:12,vars:16,consts:[[1,"ui-g"],[1,"p-col-12"],[3,"entities","loading","count","config","lazyLoadEvent","tableEvent"],["position","bottom-right",3,"preventDuplicates"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"app-generic-table",2),t.NdJ("lazyLoadEvent",function(r){return a.onLazyLoadEvent(r)})("tableEvent",function(r){return a.onTableEvent(r)}),t.ALo(6,"async"),t.ALo(7,"async"),t.ALo(8,"async"),t.ALo(9,"async"),t.qZA()()(),t._UZ(10,"router-outlet")(11,"p-toast",3)),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"tables."+a.names.name(a.Naming.CAMEL_CASE,a.NumberMode.SINGULAR)+".plural")," "),t.xp6(2),t.Q6J("entities",t.lcZ(6,8,a.entities$))("loading",t.lcZ(7,10,a.loading$))("count",t.lcZ(8,12,a.count$))("config",t.lcZ(9,14,a.tableConfig$)),t.xp6(6),t.Q6J("preventDuplicates",!0))},dependencies:[H.FN,ft.p,h.lC,g.Ov,C.X$],changeDetection:0}),e})();var Tt=i(457),U=i(1135),E=i(9841),f=i(4004),y=i(2722),_t=i(5684),b=i(5698),x=(()=>{return(e=x||(x={})).INPUT="INPUT",e.TEXTAREA="TEXTAREA",x;var e})(),L=i(6977),yt=i(611),xt=i(8911),Ct=i(3570),At=i(4024),bt=i(7525),It=i(4446),J=i(2687),Zt=i(8505),Et=i(2340);let Lt=(()=>{class e{constructor(){this.http=(0,t.f3M)(Q.eN),this.url="https://translation.googleapis.com/language/translate/v2?key=",this.key=Et.N.googleCloudApiKey}translate(n){return this.http.post(this.url+this.key,n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var j=i(8452),V=i(6222);function Mt(e,s){if(1&e&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"span",17),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.ALo(5,"uppercase"),t.qZA()()),2&e){const n=t.oxw(3);t.xp6(2),t.Tol("flag flag-"+n.language.acronym),t.xp6(2),t.Oqu(t.lcZ(5,3,n.language.acronym))}}function St(e,s){if(1&e&&t.YNc(0,Mt,6,5,"div",14),2&e){const n=t.oxw(2);t.Q6J("ngIf",n.language)}}function Nt(e,s){if(1&e&&(t.TgZ(0,"div",19)(1,"div",16),t._UZ(2,"span",17),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.ALo(5,"uppercase"),t.qZA()()),2&e){const n=s.$implicit;t.xp6(2),t.Tol("flag flag-"+n.acronym),t.xp6(2),t.Oqu(t.lcZ(5,3,n.acronym))}}const W=function(e,s){return{"ng-invalid":e,"ng-dirty":s}};function wt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"input",24),t.NdJ("input",function(o){t.CHM(n);const r=t.oxw(4);return t.KtG(r.onActualTranslationChange(o))})("focus",function(){t.CHM(n);const o=t.oxw().ngIf,r=t.oxw(3);return t.KtG(r.setSuggestion(o.controls.language.value))})("keydown",function(o){t.CHM(n);const r=t.oxw().ngIf,c=t.oxw(3);return t.KtG(c.onKeyPress(o,r.controls.language.value))}),t.qZA()}if(2&e){const n=t.oxw().ngIf,a=t.oxw(3);t.Q6J("disabled",a.disabled)("value",a.getActualTranslation())("ngClass",t.WLB(5,W,null==n?null:n.invalid,null==n?null:n.dirty))("placeholder",a.getSuggestion(n.controls.language.value))("formControl",n.controls.value)}}function $t(e,s){if(1&e&&(t.TgZ(0,"span",21),t.YNc(1,wt,1,8,"input",22),t.TgZ(2,"label"),t._uU(3),t.ALo(4,"isRequired"),t.TgZ(5,"span",23),t._uU(6),t.ALo(7,"async"),t.ALo(8,"errors"),t.qZA()()()),2&e){const n=s.ngIf,a=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",a.length>0),t.xp6(2),t.AsE(" ",o.label," ",t.lcZ(4,4,n.controls.value)," "),t.xp6(3),t.Oqu(t.lcZ(7,6,t.lcZ(8,8,n.controls.value)))}}function Ut(e,s){if(1&e&&(t.ynx(0),t.YNc(1,$t,9,10,"span",20),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.getActualTranslationControl())}}function Jt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"textarea",26),t.NdJ("input",function(o){t.CHM(n);const r=t.oxw(4);return t.KtG(r.onActualTranslationChange(o))})("focus",function(){t.CHM(n);const o=t.oxw().ngIf,r=t.oxw(3);return t.KtG(r.setSuggestion(o.controls.language.value))})("keydown",function(o){t.CHM(n);const r=t.oxw().ngIf,c=t.oxw(3);return t.KtG(c.onKeyPress(o,r.controls.language.value))}),t.qZA()}if(2&e){const n=t.oxw().ngIf,a=t.oxw(3);t.Q6J("disabled",a.disabled)("value",a.getActualTranslation())("ngClass",t.WLB(5,W,null==n?null:n.invalid,null==n?null:n.dirty))("placeholder",a.getSuggestion(n.controls.language.value))("formControl",n.controls.value)}}function Rt(e,s){if(1&e&&(t.TgZ(0,"span",21),t.YNc(1,Jt,1,8,"textarea",25),t.TgZ(2,"label"),t._uU(3),t.ALo(4,"isRequired"),t.TgZ(5,"span",23),t._uU(6),t.ALo(7,"async"),t.ALo(8,"errors"),t.qZA()()()),2&e){const n=s.ngIf,a=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",a.length>0),t.xp6(2),t.AsE(" ",o.label," ",t.lcZ(4,4,n.controls.value)," "),t.xp6(3),t.Oqu(t.lcZ(7,6,t.lcZ(8,8,n.controls.value)))}}function Ft(e,s){if(1&e&&(t.ynx(0),t.YNc(1,Rt,9,10,"span",20),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.getActualTranslationControl())}}const Qt=function(){return{height:"100%"}};function Ot(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",6)(1,"span",7)(2,"p-dropdown",8),t.NdJ("ngModelChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.language=o)}),t.YNc(3,St,1,1,"ng-template",9),t.YNc(4,Nt,6,5,"ng-template",10),t.qZA(),t.TgZ(5,"label"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.ynx(8,11),t.YNc(9,Ut,2,1,"ng-container",12),t.YNc(10,Ft,2,1,"ng-container",12),t.BQk(),t.TgZ(11,"button",13),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.changeVisibility(!0))}),t.qZA()()}if(2&e){const n=s.ngIf,a=t.oxw();t.xp6(2),t.Akn(t.DdM(10,Qt)),t.Q6J("options",n)("ngModel",a.language),t.xp6(4),t.hij("",t.lcZ(7,8,"tables.language.singular")," "),t.xp6(2),t.Q6J("ngSwitch",a.type),t.xp6(1),t.Q6J("ngSwitchCase",a.InputTranslationsType.INPUT),t.xp6(1),t.Q6J("ngSwitchCase",a.InputTranslationsType.TEXTAREA)}}function Gt(e,s){if(1&e&&(t.TgZ(0,"h4",27),t._uU(1),t._UZ(2,"fa-icon",28),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij("",n.label," "),t.xp6(1),t.Q6J("icon",n.faLanguage)}}const R=function(){return{width:"100%"}};function Dt(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",7)(2,"input",35),t.NdJ("focus",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.setSuggestion(o.controls.language.value))})("keydown",function(o){t.CHM(n);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onKeyPress(o,r.controls.language.value))})("onFocus",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onFocus(o.controls.language.value))}),t.qZA(),t.TgZ(3,"label"),t._uU(4),t.ALo(5,"isRequired"),t.TgZ(6,"span",23),t._uU(7),t.ALo(8,"async"),t.ALo(9,"errors"),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(2),t.Akn(t.DdM(12,R)),t.Q6J("placeholder",a.getSuggestion(n.controls.language.value)),t.xp6(2),t.AsE(" ",a.label," ",t.lcZ(5,6,n.controls.value)," "),t.xp6(3),t.Oqu(t.lcZ(8,8,t.lcZ(9,10,n.controls.value)))}}function Ht(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",7)(2,"textarea",36,37),t.NdJ("focus",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.setSuggestion(o.controls.language.value))})("keydown",function(o){t.CHM(n);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onKeyPress(o,r.controls.language.value))}),t.qZA(),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"isRequired"),t.TgZ(7,"span",23),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw().$implicit,a=t.oxw();t.xp6(2),t.Akn(t.DdM(12,R)),t.Q6J("placeholder",a.getSuggestion(n.controls.language.value)),t.xp6(3),t.AsE(" ",a.label," ",t.lcZ(6,6,n.controls.value)," "),t.xp6(3),t.Oqu(t.lcZ(9,8,t.lcZ(10,10,n.controls.value)))}}function Kt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.deleteLanguage(o.controls.language.value))}),t.qZA()}}function Yt(e,s){if(1&e&&(t.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"span",32),t._UZ(4,"span",17),t.TgZ(5,"div",33)(6,"b"),t._uU(7),t.ALo(8,"uppercase"),t.qZA()()(),t.ynx(9,11),t.YNc(10,Dt,10,13,"ng-container",12),t.YNc(11,Ht,11,13,"ng-container",12),t.BQk(),t.YNc(12,Kt,1,0,"button",34),t.ALo(13,"async"),t.qZA()()()),2&e){const n=s.$implicit,a=t.oxw();t.Q6J("formGroup",n),t.xp6(4),t.Tol("flag flag-"+n.controls.language.value),t.xp6(3),t.Oqu(t.lcZ(8,8,n.controls.language.value)),t.xp6(2),t.Q6J("ngSwitch",a.type),t.xp6(1),t.Q6J("ngSwitchCase",a.InputTranslationsType.INPUT),t.xp6(1),t.Q6J("ngSwitchCase",a.InputTranslationsType.TEXTAREA),t.xp6(1),t.Q6J("ngIf",a.showTimes(n.controls.language.value,t.lcZ(13,10,a.languages$)))}}function Pt(e,s){if(1&e&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"span",17),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.ALo(5,"uppercase"),t.ALo(6,"titlecase"),t.ALo(7,"titlecase"),t.qZA()()),2&e){const n=s.$implicit;t.xp6(2),t.Tol("flag flag-"+n.acronym),t.xp6(2),t.lnq(" ",t.lcZ(5,5,n.acronym)," | ",t.lcZ(6,7,n.nativeName)," | ",t.lcZ(7,9,n.name)," ")}}function Bt(e,s){if(1&e&&(t.TgZ(0,"div",19)(1,"div",16),t._UZ(2,"span",17),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.ALo(5,"uppercase"),t.ALo(6,"titlecase"),t.ALo(7,"titlecase"),t.qZA()()),2&e){const n=s.$implicit;t.xp6(2),t.Tol("flag flag-"+n.acronym),t.xp6(2),t.lnq(" ",t.lcZ(5,5,n.acronym)," | ",t.lcZ(6,7,n.nativeName)," | ",t.lcZ(7,9,n.name)," ")}}function zt(e,s){if(1&e){const n=t.EpF();t.ynx(0),t._UZ(1,"div",39)(2,"p-divider")(3,"div",39),t.TgZ(4,"div",40)(5,"span",7)(6,"p-dropdown",41),t.YNc(7,Pt,8,11,"ng-template",9),t.YNc(8,Bt,8,11,"ng-template",10),t.qZA(),t.TgZ(9,"label"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"button",42),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.addLanguage(o.languageToAddFormControl.value))}),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw().ngIf,a=t.oxw();t.xp6(6),t.Akn(t.DdM(9,R)),t.Q6J("options",n)("formControl",a.languageToAddFormControl)("autoDisplayFirst",!1),t.xp6(4),t.hij("",t.lcZ(11,7,"inputTranslations.languageToAdd")," "),t.xp6(2),t.Q6J("disabled",!a.languageToAddFormControl.value||""===a.languageToAddFormControl.value)}}function Xt(e,s){if(1&e&&(t.ynx(0),t.YNc(1,zt,13,10,"ng-container",5),t.BQk()),2&e){const n=s.ngIf;t.xp6(1),t.Q6J("ngIf",n.length>0)}}const jt=function(e){return{textarea:e}},Vt=function(){return{maxWidth:"900px !important"}};let Wt=(()=>{class e{constructor(){this.store=(0,t.f3M)(w.yh),this.fb=(0,t.f3M)(l.qu),this.ref=(0,t.f3M)(t.sBO),this.inputTranslationsService=(0,t.f3M)(Lt),this.titleCasePipe=(0,t.f3M)(g.rS),this.faTimes=J.NBC,this.faTrash=J.$aW,this.faLanguage=J.BCn,this.translations$=new U.X([]),this.suggestions$=new U.X(["hola","aaaaa","bbb"]),this.suggestions=[],this.type=x.INPUT,this.label="",this.visibility=!1,this.languages=[],this.languageToAddFormControl=new l.NI(null),this.languages$=this.store.select(_.$.getAll),this.activeLanguages$=this.store.select(_.$.getAll).pipe((0,f.U)(n=>n.filter(a=>a.active))),this.disabledLanguages$=this.store.select(_.$.getAll).pipe((0,f.U)(n=>n.filter(a=>!a.active)))}set translations(n){Array.isArray(n)&&this.translations$.next(n)}set showErrors(n){this._showErrors=n}onHide(){L.h.markAllAsDirtyAndTouched(this.form),this.changeVisibility(!1)}ngOnInit(){this._showErrors.subscribe(n=>{n&&this.form.invalid&&(L.h.markAllAsDirtyAndTouched(this.form),this.visibility=!0)}),this.languagesToFill$=(0,E.a)([this.languages$,this.form.valueChanges.pipe((0,Z.O)(this.form.value))]).pipe((0,f.U)(([n,a])=>n.filter(o=>!!a.find(r=>r.language===o.acronym)||o.active))),this.languagesToAdd$=(0,E.a)([this.disabledLanguages$,this.form.valueChanges.pipe((0,Z.O)(this.form.value))]).pipe((0,f.U)(([n,a])=>n.filter(r=>!a.find(c=>c.language===r.acronym)))),(0,E.a)([this.languagesToFill$,this.translations$]).subscribe(([n,a])=>{n.forEach(o=>{if(this.form.value.findIndex(r=>r.language===o.acronym)<0){const r=a.find(un=>un.language===o.acronym),c=this.fb.group({language:[o.acronym,[l.kI.required]],value:[r?.value,[l.kI.required]]});this.form.push(c),this.disabled&&(this.form.disable(),c.disable()),this.ref.detectChanges(),this.ref.markForCheck()}})}),this.store.select(_.$.getOne).pipe((0,b.q)(1)).subscribe(n=>{this.language=n}),this.store.select(_.$.getOne).subscribe(n=>this.publicLanguage=n)}changeVisibility(n){this.visibility=n}getTraduction(n){const a=this.form.value.find(o=>o.language===n);return a?a?.value:null}getActualTranslationControl(){return this.form.controls.find(n=>n.controls.language.value===this.language?.acronym)}getActualTranslationInvalid(){return this.getActualTranslationControl()?.invalid}getActualTranslationDirty(){return this.getActualTranslationControl()?.dirty}getActualTranslation(){const n=this.getActualTranslationControl();return n?.value?.value?n?.value?.value:""}onActualTranslationChange(n){const a=this.getActualTranslationControl();a.patchValue({language:a.value.language,value:n.target.value}),a.markAsDirty()}addLanguage(n){const a=this.fb.group({language:[n.acronym,[l.kI.required]],value:["",[l.kI.required]]});this.form.push(a)}deleteLanguage(n){const a=this.form.controls.findIndex(o=>o.value.language===n);this.form.removeAt(a)}showTimes(n,a){return!a?.find(o=>o.acronym===n)?.active}setSuggestion(n){const a=this.form.value.find(o=>"es"===o.language).value;a&&this.inputTranslationsService.translate({q:[a],target:n,source:"es"}).pipe((0,b.q)(1),(0,Zt.b)(console.log),(0,f.U)(o=>this.titleCasePipe.transform(o.data.translations[0].translatedText))).subscribe(o=>{const r=this.suggestions.findIndex(c=>c.language===n);r>=0?this.suggestions[r]={language:n,value:o}:this.suggestions.push({language:n,value:o})})}getSuggestion(n){return this.suggestions.find(a=>a.language===n)?.value}onKeyPress(n,a){console.log(n),"Tab"===n.key&&this.form.controls.find(o=>o.value.language===a).controls.value.setValue(this.getSuggestion(a))}onFocus(n){const a=this.form.value.find(o=>"es"===o.language).value;a&&this.inputTranslationsService.translate({q:[a],target:n,source:"es"}).pipe((0,b.q)(1)).subscribe(o=>{this.suggestions=[this.titleCasePipe.transform(o.data.translations[0].translatedText)]})}completeWithSuggestion(n,a){this.suggestions=[...this.suggestions]}get InputTranslationsType(){return x}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-input-translations"]],inputs:{translations:"translations",showErrors:"showErrors",disabled:"disabled",form:"form",type:"type",label:"label"},decls:9,vars:16,consts:[[1,"translate-input",3,"ngClass"],["class","p-inputgroup translation-input-preview",4,"ngIf"],["position","right","appendTo","body",3,"visible","baseZIndex","styleClass","onHide"],["pTemplate","header"],[3,"formGroup",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"p-inputgroup","translation-input-preview"],[1,"p-float-label"],["appendTo","body",3,"options","ngModel","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","button","pButton","","pRipple","","icon","pi pi-list",1,"p-button-sm",3,"click"],["class","language-item language-item-value",4,"ngIf"],[1,"language-item","language-item-value"],[1,"banderita"],[1,""],[1,"nombre"],[1,"language-item"],["class","p-float-label translation",4,"ngIf"],[1,"p-float-label","translation"],["type","text","pInputText","","class","p-inputtext-sm",3,"disabled","value","ngClass","placeholder","formControl","input","focus","keydown",4,"ngIf"],[1,"error"],["type","text","pInputText","",1,"p-inputtext-sm",3,"disabled","value","ngClass","placeholder","formControl","input","focus","keydown"],["rows","3","cols","30","pInputTextarea","","type","text","pInputText","","class","p-inputtext-sm",3,"disabled","value","ngClass","placeholder","formControl","input","focus","keydown",4,"ngIf"],["rows","3","cols","30","pInputTextarea","","type","text","pInputText","",1,"p-inputtext-sm",3,"disabled","value","ngClass","placeholder","formControl","input","focus","keydown"],[1,"p-0","m-0","pl-2"],[3,"icon"],[3,"formGroup"],[1,"xs:col-12","lg:col-12","mt-3"],[1,"p-inputgroup","translation-full-view"],[1,"p-inputgroup-addon"],[1,"pl-1"],["type","button","class","p-button-sm p-button-danger","pButton","","pRipple","","icon","pi pi-trash",3,"click",4,"ngIf"],["pInputText","","formControlName","value",3,"placeholder","focus","keydown","onFocus"],["pInputTextarea","","formControlName","value",3,"placeholder","focus","keydown"],["autoComplete",""],["type","button","pButton","","pRipple","","icon","pi pi-trash",1,"p-button-sm","p-button-danger",3,"click"],[1,"w-full","h-3em"],[1,"p-inputgroup","language-to-add","p-2","mt-1"],["appendTo","body",3,"options","formControl","autoDisplayFirst"],["type","button","pButton","","pRipple","","icon","pi pi-plus",1,"p-button-sm",3,"disabled","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Ot,12,11,"div",1),t.ALo(2,"async"),t.TgZ(3,"p-sidebar",2),t.NdJ("onHide",function(){return a.onHide()}),t.YNc(4,Gt,3,2,"ng-template",3),t.TgZ(5,"div"),t.YNc(6,Yt,14,12,"div",4),t.YNc(7,Xt,2,1,"ng-container",5),t.ALo(8,"async"),t.qZA()()()),2&n&&(t.Q6J("ngClass",t.VKq(13,jt,"TEXTAREA"===a.type)),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,9,a.languagesToFill$)),t.xp6(2),t.Akn(t.DdM(15,Vt)),t.Q6J("visible",a.visibility)("baseZIndex",2e4)("styleClass",a.type===a.InputTranslationsType.INPUT?"input-translations-input":"input-translations-textarea"),t.xp6(3),t.Q6J("ngForOf",null==a.form?null:a.form.controls),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,11,a.languagesToAdd$)))},dependencies:[g.mk,g.sg,g.O5,g.RF,g.n9,l.Fj,l.JJ,l.JL,l.On,l.oH,l.sg,l.u,$.jx,G.Hq,S.o,D.Lt,I.g,Y.i,P.Y,K.BN,g.Ov,g.gd,g.rS,j.J,V.F,C.X$],styles:[".language-item{display:flex!important;justify-content:flex-start;gap:5px}.language-item .banderita{display:flex;justify-content:center;align-items:center}.language-item .nombre{margin-bottom:2.2px}.translation-input-preview.p-inputgroup p-dropdown{border-radius:.25rem 0 0 .25rem;max-width:7.5em}.translation-input-preview.p-inputgroup .p-float-label{max-width:7.5em;width:100%}.translation-input-preview.p-inputgroup .translation.p-float-label{max-width:calc(100% - 10.5em)}.input-translations-textarea{max-width:50em!important}.input-translations-input{max-width:30em!important}.translation-full-view.p-inputgroup input{border-radius:0}.translation-full-view.p-inputgroup .p-inputgroup-addon{min-width:5em}.translation-full-view.p-inputgroup .p-inputgroup-addon span{min-width:1.76rem}.translation-full-view.p-inputgroup .p-float-label{width:100%}.translation-full-view.p-inputgroup .delete-language-button-container{width:3em;min-width:3em}.translation-full-view.p-inputgroup .delete-language-button-container fa-icon:hover{color:#e24c4c!important;cursor:pointer}.language-to-add .p-dropdown{border-radius:.25rem 0 0 .25rem}.p-dropdown-label{display:flex!important;align-items:center!important}\n"],encapsulation:2,changeDetection:0}),e})();function qt(e,s){if(1&e&&(t.TgZ(0,"div",8)(1,"span",9),t._UZ(2,"input",10),t.TgZ(3,"label",11),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",12),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&e){const n=s.appLet,a=t.oxw().appLet,o=t.oxw(2);t.Q6J("appIsLoading",a),t.xp6(2),t.Q6J("id",n)("formControlName",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+n)," ",t.lcZ(6,9,o.form.controls[n])," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,o.form.controls[n])))}}function kt(e,s){if(1&e&&(t.TgZ(0,"div",8)(1,"span",9),t._UZ(2,"textarea",13),t.TgZ(3,"label",11),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"isRequired"),t.TgZ(7,"span",12),t._uU(8),t.ALo(9,"async"),t.ALo(10,"errors"),t.qZA()()()()),2&e){const n=s.appLet,a=t.oxw().appLet,o=t.oxw(2);t.Q6J("appIsLoading",a),t.xp6(2),t.Q6J("id",n)("formControlName",n),t.xp6(1),t.Q6J("for",n),t.xp6(1),t.AsE(" ",t.lcZ(5,7,"columns."+n)," ",t.lcZ(6,9,o.form.controls[n])," "),t.xp6(4),t.Oqu(t.lcZ(9,11,t.lcZ(10,13,o.form.controls[n])))}}function tn(e,s){if(1&e&&(t.TgZ(0,"div",8),t._UZ(1,"app-input-translations",14),t.ALo(2,"async"),t.ALo(3,"translate"),t.qZA()),2&e){const n=s.appLet,a=t.oxw().appLet,o=t.oxw().appLet,r=t.oxw();let c;t.Q6J("appIsLoading",a),t.xp6(1),t.Q6J("showErrors",r.showErrors$)("type",r.InputTranslationsType.INPUT)("translations",null==(c=t.lcZ(2,7,r.entity$))?null:c.nameTranslations)("disabled",o===r.ModalMode.VIEW)("form",r.form.controls[n])("label",t.lcZ(3,9,"columns.name"))}}function nn(e,s){if(1&e&&(t.TgZ(0,"div",8),t._UZ(1,"app-input-translations",14),t.ALo(2,"async"),t.ALo(3,"translate"),t.qZA()),2&e){const n=s.appLet,a=t.oxw().appLet,o=t.oxw().appLet,r=t.oxw();let c;t.Q6J("appIsLoading",a),t.xp6(1),t.Q6J("showErrors",r.showErrors$)("type",r.InputTranslationsType.TEXTAREA)("translations",null==(c=t.lcZ(2,7,r.entity$))?null:c.descriptionTranslations)("disabled",o===r.ModalMode.VIEW)("form",r.form.controls[n])("label",t.lcZ(3,9,"columns.description"))}}function en(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.send())}),t.TgZ(1,"div",4),t.YNc(2,qt,11,15,"div",5),t.YNc(3,kt,11,15,"div",5),t.YNc(4,tn,4,11,"div",5),t.YNc(5,nn,4,11,"div",5),t.qZA(),t.TgZ(6,"app-entity-modal-buttons",6),t.NdJ("cancel",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.hide())})("submit",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.send())}),t.qZA(),t._UZ(7,"app-entity-modal-audit",7),t.ALo(8,"async"),t.qZA()}if(2&e){const n=s.appLet,a=t.oxw().appLet,o=t.oxw();t.Q6J("formGroup",o.form),t.xp6(2),t.Q6J("appLet","name"),t.xp6(1),t.Q6J("appLet","description"),t.xp6(1),t.Q6J("appLet","nameTranslations"),t.xp6(1),t.Q6J("appLet","descriptionTranslations"),t.xp6(1),t.Q6J("loading",n)("form",o.form)("name",o.names.name(o.Naming.CAMEL_CASE,o.NumberMode.SINGULAR))("modalMode",a),t.xp6(1),t.Q6J("loading",n)("entity",t.lcZ(8,12,o.entity$))("modalMode",a)}}const an=function(){return{width:"100%",maxWidth:"40rem"}},on=function(e){return{name:e}};function sn(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"p-dialog",1),t.NdJ("visibleChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.visible=o)})("onHide",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.hide())}),t.ALo(1,"translate"),t.ALo(2,"lowercase"),t.ALo(3,"translate"),t.YNc(4,en,9,14,"form",2),t.ALo(5,"async"),t.qZA()}if(2&e){const n=s.appLet,a=t.oxw();t.Akn(t.DdM(17,an)),t.Q6J("draggable",!1)("resizable",!1)("header",t.xi3(1,8,t.lcZ(2,11,"buttons."+n),t.VKq(18,on,t.lcZ(3,13,"tables."+a.names.name(a.Naming.CAMEL_CASE,a.NumberMode.SINGULAR)+".singular"))))("modal",!0)("visible",a.visible),t.xp6(4),t.Q6J("appLet",t.lcZ(5,15,a.loading$))}}const rn=[{path:"",title:(e,s)=>"Juan S\xe1ez Garc\xeda | Certificate Types",component:vt,children:[{path:"modal",title:(e,s)=>e.paramMap.get("id")?(0,Tt.D)((0,t.f3M)(xt.J).getTitle(e.paramMap.get("id"))).pipe((0,f.U)(n=>"Juan S\xe1ez Garc\xeda | Certificate Types | "+n.name)):"Juan S\xe1ez Garc\xeda | Certificate Types | New",component:(()=>{class e{constructor(){this.router=(0,t.f3M)(h.F0),this.route=(0,t.f3M)(h.gz),this.store=(0,t.f3M)(w.yh),this.fb=(0,t.f3M)(l.qu),this.visible=!0,this.form=this.fb.group({name:this.fb.control(void 0,[l.kI.required]),description:this.fb.control(void 0,[l.kI.required]),nameTranslations:this.fb.array([]),descriptionTranslations:this.fb.array([])}),this.unsubscribe$=new z.x,this.params$=this.route.params.pipe((0,y.R)(this.unsubscribe$),(0,f.U)(n=>n)),this.loading$=this.store.select(T.R.getLoading).pipe((0,y.R)(this.unsubscribe$)),this.modalMode$=this.params$.pipe((0,y.R)(this.unsubscribe$),(0,f.U)(n=>m.g[n.modalMode])),this.entity$=this.store.select(T.R.getOne).pipe((0,y.R)(this.unsubscribe$),(0,A.h)(n=>!!n)),this.action$=this.store.select(T.R.getAction).pipe((0,y.R)(this.unsubscribe$),(0,_t.T)(1),(0,A.h)(n=>(n.type===p.Us.CREATE_ONE||n.type===p.Us.UPDATE_ONE)&&n.status===p.M4.SUCCESS)),this.showErrors$=new U.X(!1)}ngOnInit(){this.showErrors$.pipe((0,y.R)(this.unsubscribe$)).subscribe(console.log),this.params$.pipe((0,A.h)(n=>!!n.id)).subscribe(n=>this.store.dispatch(v.A.loadOne({id:n.id}))),this.action$.subscribe(n=>{this.hide()}),(0,E.a)([this.modalMode$,this.form.valueChanges.pipe((0,Z.O)(this.form.value))]).pipe((0,A.h)(([n])=>n===m.g.VIEW),(0,b.q)(1)).subscribe(([n,a])=>{this.form.disable(),L.h.disableAllControls(this.form)}),this.entity$.subscribe(n=>{this.form.controls.id||this.form.addControl("id",this.fb.control(n.id,[l.kI.required])),this.form.patchValue({id:n.id,name:n.name,description:n.description,nameTranslations:n.nameTranslations,descriptionTranslations:n.descriptionTranslations})})}ngOnDestroy(){this.unsubscribe$.next(!0),this.unsubscribe$.complete()}hide(){this.visible=!1,this.store.dispatch(v.A.unload()),this.router.navigate([yt.A.getParentRoute(this.router.url,1)])}send(){this.form.invalid?(L.h.markAllAsDirtyAndTouched(this.form),this.showErrors$.next(!0)):this.modalMode$.pipe((0,b.q)(1)).subscribe(n=>{switch(n){case m.g.CREATE:this.store.dispatch(v.A.create({payload:this.form.value}));break;case m.g.UPDATE:this.store.dispatch(v.A.update({payload:this.form.value}))}})}get ModalMode(){return m.g}get NumberMode(){return u.rm}get Naming(){return u.Si}get names(){return X.u}get InputTranslationsType(){return x}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-certificate-type-modal"]],decls:2,vars:3,consts:[[3,"draggable","resizable","header","modal","visible","style","visibleChange","onHide",4,"appLet"],[3,"draggable","resizable","header","modal","visible","visibleChange","onHide"],[3,"formGroup","ngSubmit",4,"appLet"],[3,"formGroup","ngSubmit"],[1,"grid","p-fluid","mt-1"],["appLoading","","class","xs:col-12 md:col-12 lg:col-12 mt-3",3,"appIsLoading",4,"appLet"],[3,"loading","form","name","modalMode","cancel","submit"],[3,"loading","entity","modalMode"],["appLoading","",1,"xs:col-12","md:col-12","lg:col-12","mt-3",3,"appIsLoading"],[1,"p-float-label"],["type","text","pInputText","",1,"p-inputtext-sm",3,"id","formControlName"],[3,"for"],[1,"error"],["pInputTextarea","",1,"p-inputtext-sm",3,"id","formControlName"],[3,"showErrors","type","translations","disabled","form","label"]],template:function(n,a){1&n&&(t.YNc(0,sn,6,20,"p-dialog",0),t.ALo(1,"async")),2&n&&t.Q6J("appLet",t.lcZ(1,1,a.modalMode$))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Ct.T,At.e,M.V,S.o,I.g,bt.Z,It.D,Wt,g.Ov,g.i8,C.X$,j.J,V.F],changeDetection:0}),e})()}]}];let ln=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(rn),h.Bz]}),e})();var pn=i(7746);let cn=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[gt.S,Q.JF,l.u5,l.UX,H.EV,G.hJ,it.O,M.S,et.d,at.D,O.WN,nt._8,M.S,D.kW,S.j,ot.Iu,I.A,rt.LU,st.q4,B.y,N.D,N.D,tt.G,k.K,q.D,pn.y,ln,ut]}),e})()}}]);